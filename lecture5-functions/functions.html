<!DOCTYPE html>
<html lang="en"><head>
<script src="functions_files/libs/clipboard/clipboard.min.js"></script>
<script src="functions_files/libs/quarto-html/tabby.min.js"></script>
<script src="functions_files/libs/quarto-html/popper.min.js"></script>
<script src="functions_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="functions_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="functions_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="functions_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="functions_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.550">

  <title>Functions</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="functions_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="functions_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="functions_files/libs/revealjs/dist/theme/quarto.css">
  <link href="functions_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="functions_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="functions_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="functions_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="black" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/inaki-del-olmo.jpg" data-background-opacity="30%" class="quarto-title-block center">
  <h1 class="title"><span style="color: white">Functions</span></h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="morals" class="title-slide slide level1 small center" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/sam-moghadam-khamseh.jpg" data-background-opacity="40%" data-background-color="black">
<h1>morals</h1>
<blockquote>
<p><span style="color: white;">“The function of good software is to make the complex appear to be simple.” <br>—Grady Booch</span></p>
</blockquote>
<blockquote>
<p><span style="color: white;">“Beware of bugs in the above code; I have only proved it correct, not tried it.” <br>—Donald Knuth</span></p>
</blockquote>
<blockquote>
<p><span style="color: white;">“If you can’t informally describe a function in one line, the function is probably too large.” <br>—(paraphrased) Eric S. Raymond</span></p>
</blockquote>
</section>

<section id="morals-1" class="title-slide slide level1 center" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/sam-moghadam-khamseh.jpg" data-background-opacity="40%" data-background-color="black">
<h1>morals</h1>
<blockquote>
<p><span style="color: white;">“You should consider writing a function whenever you’ve copied and pasted a block of code more than twice (i.e., you now have three copies of the same code). <br>—R for Data Science, Hadley Wickham, Garrett Grolemund</span></p>
</blockquote>
</section>

<section id="anatomy-of-a-function" class="title-slide slide level1 center">
<h1>anatomy of a function</h1>
<ul>
<li>name</li>
<li>arguments</li>
<li>body
<ul>
<li>return value(s)</li>
<li>error/warning conditions</li>
</ul></li>
<li>its scope/environment</li>
<li>documentation (not always present)</li>
</ul>
</section>

<section id="principles-for-functions" class="title-slide slide level1 center">
<h1>principles for functions</h1>
<ul>
<li>use communicative names</li>
<li>no side effects, please</li>
<li>throw errors and warnings</li>
<li>write tests</li>
</ul>
</section>

<section id="examples" class="title-slide slide level1 xxsmall center">
<h1>examples</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># Calculate the Length of the Hypotenuse for a Right Triangle with Base of</span></span>
<span id="cb1-2"><a href=""></a><span class="co"># Length x and Height of Length y</span></span>
<span id="cb1-3"><a href=""></a><span class="co">#</span></span>
<span id="cb1-4"><a href=""></a><span class="co"># Uses the Pythagorean theorem to calculate the length of the hypotenuse of a</span></span>
<span id="cb1-5"><a href=""></a><span class="co"># right triangle with the side-lengths given.</span></span>
<span id="cb1-6"><a href=""></a><span class="co">#   </span></span>
<span id="cb1-7"><a href=""></a><span class="co"># Reference: https://en.wikipedia.org/wiki/Pythagorean_theorem</span></span>
<span id="cb1-8"><a href=""></a><span class="co"># </span></span>
<span id="cb1-9"><a href=""></a><span class="co"># arguments: </span></span>
<span id="cb1-10"><a href=""></a><span class="co">#   x   length of the triangle base </span></span>
<span id="cb1-11"><a href=""></a><span class="co">#   y   height of the triangle </span></span>
<span id="cb1-12"><a href=""></a><span class="co"># </span></span>
<span id="cb1-13"><a href=""></a><span class="co"># returns: </span></span>
<span id="cb1-14"><a href=""></a><span class="co">#   the length of the hypotenuse of the triangle</span></span>
<span id="cb1-15"><a href=""></a>calculate_hypotenuse_length <span class="ot">&lt;-</span> <span class="cf">function</span>(x,y) {</span>
<span id="cb1-16"><a href=""></a>  <span class="fu">sqrt</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> y<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb1-17"><a href=""></a>}</span>
<span id="cb1-18"><a href=""></a></span>
<span id="cb1-19"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">3</span>,<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>

<section id="examples-1" class="title-slide slide level1 xxsmall center">
<h1>examples</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">5</span>,<span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">8</span>,<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">7</span>,<span class="dv">24</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">20</span>,<span class="dv">21</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">12</span>,<span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 37</code></pre>
</div>
</div>
<aside class="notes">
<p>the idea is that we can automate the boring stuff, i.e., the arithmetic and have the computer do it instead of us</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="arguments" class="title-slide slide level1 center">
<h1>arguments</h1>

</section>
<section id="arguments-1" class="slide level2 xsmall">
<h2>arguments</h2>
<p>arguments are a little bit like playing make-believe: “what if <code>x</code> were this? what if <code>argument2</code> were this?”</p>
<p>in that sense, you need to make sure you suspend belief about whatever <code>x</code> or <code>argument2</code> are outside of the function because inside the function, they have whatever value they were given as to the function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb13-2"><a href=""></a>argument2 <span class="ot">&lt;-</span> <span class="st">'spooky value!'</span></span>
<span id="cb13-3"><a href=""></a></span>
<span id="cb13-4"><a href=""></a>my_fun_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, argument2) {</span>
<span id="cb13-5"><a href=""></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"the value of x inside this function: "</span>, x))</span>
<span id="cb13-6"><a href=""></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"the value of tricky_argument inside this function: "</span>, </span>
<span id="cb13-7"><a href=""></a>               argument2))</span>
<span id="cb13-8"><a href=""></a>}</span>
<span id="cb13-9"><a href=""></a></span>
<span id="cb13-10"><a href=""></a><span class="fu">my_fun_function</span>(<span class="dv">1234</span>, <span class="st">"i'm not spooky!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "the value of x inside this function: 1234"
[1] "the value of tricky_argument inside this function: i'm not spooky!"</code></pre>
</div>
</div>
</section>
<section id="arguments-2" class="slide level2">
<h2>arguments</h2>
<ul>
<li>named arguments</li>
<li>missing arguments</li>
<li>default arguments</li>
<li>detecting missing arguments</li>
</ul>
</section>
<section id="argument-names" class="slide level2 xsmall">
<h2>argument names</h2>
<p>note that you can provide the arguments in the order specified, or you can give named arguments when calling the function (in which case, order doesn’t matter):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="dv">5</span>, <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="at">x =</span> <span class="dv">5</span>, <span class="at">y =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="at">y =</span> <span class="dv">12</span>, <span class="at">x =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
</section>
<section id="missing-arguments" class="slide level2 xxsmall">
<h2>missing arguments</h2>
<p>some functions do not require that all arguments be passed.</p>
<p>when an argument is required and it’s not given, it will result in an error.</p>
<p>here’s a simple example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="co"># two_arguments_steve likes to talk a lot</span></span>
<span id="cb21-2"><a href=""></a>two_arguments_steve <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb21-3"><a href=""></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb21-4"><a href=""></a>    <span class="fu">print</span>(arg1)</span>
<span id="cb21-5"><a href=""></a>  }</span>
<span id="cb21-6"><a href=""></a>}</span>
<span id="cb21-7"><a href=""></a></span>
<span id="cb21-8"><a href=""></a><span class="fu">two_arguments_steve</span>(<span class="st">"hello!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello!"
[1] "hello!"
[1] "hello!"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a><span class="co"># two_arguments_steve won't run without arg1</span></span>
<span id="cb23-2"><a href=""></a><span class="fu">two_arguments_steve</span>(<span class="at">arg2 =</span> <span class="st">"what's up?"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in two_arguments_steve(arg2 = "what's up?"): argument "arg1" is missing, with no default</code></pre>
</div>
</div>
</section>
<section id="default-arguments" class="slide level2 xsmall">
<h2>default arguments</h2>
<p>one of the common situations in which arguments don’t need to be passed is if they have default values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a>function_with_lovely_defaults <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="st">"great"</span>, <span class="at">y =</span> <span class="st">"day"</span>) {</span>
<span id="cb25-2"><a href=""></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"i'm having a "</span>, x, <span class="st">" "</span>, y))</span>
<span id="cb25-3"><a href=""></a>}</span>
<span id="cb25-4"><a href=""></a></span>
<span id="cb25-5"><a href=""></a><span class="fu">function_with_lovely_defaults</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i'm having a great day"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a><span class="fu">function_with_lovely_defaults</span>(<span class="st">"kale"</span>, <span class="st">"salad"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i'm having a kale salad"</code></pre>
</div>
</div>
</section>
<section id="detecting-missing-arguments" class="slide level2 xsmall">
<h2>detecting missing arguments</h2>
<p>sometimes you may need to detect within a function if an argument is missing.</p>
<p>this can be done with the <code>missing()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a>snarky_function <span class="ot">&lt;-</span> <span class="cf">function</span>(argument) {</span>
<span id="cb29-2"><a href=""></a>  <span class="cf">if</span> (<span class="fu">missing</span>(argument)) {</span>
<span id="cb29-3"><a href=""></a>    <span class="fu">print</span>(<span class="st">"i can't believe you've done this"</span>)</span>
<span id="cb29-4"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb29-5"><a href=""></a>    <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"here's your argument: "</span>, argument))</span>
<span id="cb29-6"><a href=""></a>  }</span>
<span id="cb29-7"><a href=""></a>}</span>
<span id="cb29-8"><a href=""></a></span>
<span id="cb29-9"><a href=""></a><span class="fu">snarky_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i can't believe you've done this"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="fu">snarky_function</span>(<span class="st">"did you know the earliest crocodilian evolved 95 million years ago?! 🐊"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "here's your argument: did you know the earliest crocodilian evolved 95 million years ago?! 🐊"</code></pre>
</div>
</div>
</section>
<section id="returning-early" class="slide level2 xsmall">
<h2>returning early</h2>
<p>sometimes you may have situations in which you don’t need to run all of the code. a classic example is when the output of a function should depend on an <code>if</code> <code>else</code> code block.</p>
<p>in those situations, you should write out a <code>return()</code> function call explicitly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a>sum_and_square <span class="ot">&lt;-</span> <span class="cf">function</span>(x,y) {</span>
<span id="cb33-2"><a href=""></a>  <span class="cf">if</span> (<span class="fu">all</span>(<span class="fu">c</span>(<span class="fu">is.numeric</span>(x), <span class="fu">is.numeric</span>(y)))) { </span>
<span id="cb33-3"><a href=""></a>    <span class="fu">return</span>((x <span class="sc">+</span> y)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb33-4"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb33-5"><a href=""></a>    <span class="fu">warning</span>(<span class="st">"x and y aren't both numeric"</span>)</span>
<span id="cb33-6"><a href=""></a>    <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb33-7"><a href=""></a>  }</span>
<span id="cb33-8"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="raising-errors" class="slide level2 xxxsmall">
<h2>raising errors</h2>
<p>we could improve on the function given by adding code to raise errors for problematic input.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="co"># first let's look at what happens without the code to raise errors:</span></span>
<span id="cb34-2"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="fl">1.3e154</span>, <span class="fl">1.3e154</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a>calculate_hypotenuse_length <span class="ot">&lt;-</span> <span class="cf">function</span>(x,y) {</span>
<span id="cb36-2"><a href=""></a>  <span class="co"># make sure the arguments aren't too big</span></span>
<span id="cb36-3"><a href=""></a>  <span class="cf">if</span> (x <span class="sc">&gt;=</span> <span class="fl">1.3e154</span> <span class="sc">|</span> y <span class="sc">&gt;=</span> <span class="fl">1.3e154</span>) {</span>
<span id="cb36-4"><a href=""></a>    <span class="fu">stop</span>(<span class="st">"calculate_hypotenuse_length only supports arguments less than 1.3e154"</span>)</span>
<span id="cb36-5"><a href=""></a>  }</span>
<span id="cb36-6"><a href=""></a>  </span>
<span id="cb36-7"><a href=""></a>  <span class="fu">sqrt</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> y<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb36-8"><a href=""></a>}</span>
<span id="cb36-9"><a href=""></a></span>
<span id="cb36-10"><a href=""></a><span class="fu">calculate_hypotenuse_length</span>(<span class="fl">1.3e154</span>, <span class="fl">1.3e154</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in calculate_hypotenuse_length(1.3e+154, 1.3e+154): calculate_hypotenuse_length only supports arguments less than 1.3e154</code></pre>
</div>
</div>
</section>
<section id="write-your-own-error-messages" class="slide level2 small">
<h2>write your own error messages</h2>
<div style="padding-top: 5%">

</div>
<div class="columns">
<div class="column">
<p><img src="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/hodu_lilac.png" alt="Hodu Tip! with lilac color styling"></p>
</div><div class="column">
<div style="padding-top: 10%;">

</div>
<p>it’s often the case that R will <span class="carrot"><strong>automatically raise errors</strong></span> when the arguments given to a function are incompatible with the steps being done inside the function; <br><br></p>
<p>however, R’s errors can be incredibly <span class="carrot"><strong>terse</strong></span>, so it may be more <span class="carrot"><strong>user-friendly</strong></span> to write your own errors, especially ones that give a little bit more <span class="carrot"><strong>context</strong></span>.</p>
</div>
</div>
</section></section>
<section>
<section id="scopes-and-environments" class="title-slide slide level1 xsmall center">
<h1>scopes and environments</h1>

</section>
<section id="scopes-and-environments-1" class="slide level2 xsmall">
<h2>scopes and environments</h2>
<p>what do you think will happen?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb38-2"><a href=""></a>some_function <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb38-3"><a href=""></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span> </span>
<span id="cb38-4"><a href=""></a>  <span class="fu">print</span>(x)</span>
<span id="cb38-5"><a href=""></a>}</span>
<span id="cb38-6"><a href=""></a></span>
<span id="cb38-7"><a href=""></a><span class="fu">some_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="scopes-and-environments-2" class="slide level2 xsmall">
<h2>scopes and environments</h2>
<p>how about now?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb42-2"><a href=""></a>tricky_function <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb42-3"><a href=""></a>  inner_function <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb42-4"><a href=""></a>    x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb42-5"><a href=""></a>  }</span>
<span id="cb42-6"><a href=""></a>  </span>
<span id="cb42-7"><a href=""></a>  <span class="fu">inner_function</span>()</span>
<span id="cb42-8"><a href=""></a>  <span class="fu">print</span>(x)</span>
<span id="cb42-9"><a href=""></a>}</span>
<span id="cb42-10"><a href=""></a></span>
<span id="cb42-11"><a href=""></a><span class="fu">tricky_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="scopes-and-environments-3" class="slide level2 xsmall">
<h2>scopes and environments</h2>
<p>and how about now?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb46-2"><a href=""></a>tricky_function <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb46-3"><a href=""></a>  inner_function <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb46-4"><a href=""></a>    <span class="fu">print</span>(x)</span>
<span id="cb46-5"><a href=""></a>  }</span>
<span id="cb46-6"><a href=""></a>  </span>
<span id="cb46-7"><a href=""></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb46-8"><a href=""></a>  <span class="fu">inner_function</span>()</span>
<span id="cb46-9"><a href=""></a>}</span>
<span id="cb46-10"><a href=""></a></span>
<span id="cb46-11"><a href=""></a><span class="fu">tricky_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="scopes-and-environments-4" class="slide level2 xsmall">
<h2>scopes and environments</h2>
<p>let’s make those examples a little less mysterious:</p>
<div>
<ul>
<li class="fragment">objects referenced will assume the value of where they were defined in either the <span class="carrot"><strong>scope in which they are referenced</strong></span>, or the <span class="carrot"><strong>scope most immediately parental</strong></span> to the current scope in which they’ve been defined.</li>
<li class="fragment">here’s an analogy: let’s say both your grandmother and your mom are both named Elphaba, and someone asks you “Who is Elphaba?” If you’re R, you’d say “my mom.”</li>
<li class="fragment">objects assigned within a function will <span class="carrot"><strong>not</strong></span> be updated in the <span class="carrot"><strong>global scope</strong></span> or that function’s <span class="carrot"><strong>parent scope(s)</strong></span>.</li>
<li class="fragment">here’s an analogy: if a function is like considering a <span class="carrot"><strong>hypothetical</strong></span> written down for you, then if the hypothetical says “let’s say dogs had five legs” or <code>"x is 5"</code>, you could work out some <span class="carrot"><strong>conclusions</strong></span> (dog booties would be sold in packs of five, or <code>x^2 == 25</code>), but that hypothetical <strong>doesn’t</strong> change anything about the rest of the world.</li>
</ul>
</div>
</section></section>
<section>
<section id="some-things-worth-explicitly-discussing" class="title-slide slide level1 xsmall center">
<h1>some things worth explicitly discussing</h1>
<div>
<ul>
<li class="fragment">functions can call other functions
<ul>
<li class="fragment">we’ve already seen this</li>
</ul></li>
<li class="fragment">functions are first-class citizens
<ul>
<li class="fragment">so you can treat them similarly to other variables</li>
</ul></li>
<li class="fragment">you can make functions that make functions</li>
<li class="fragment">anonymous functions</li>
<li class="fragment">infix notation</li>
</ul>
</div>
</section>
<section id="functions-as-first-class-citizens" class="slide level2 xxsmall">
<h2>functions as first-class citizens</h2>
<p>you can do things with functions in R that you can’t do in all languages, like put them in a list or pass them as arguments.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb50-2"><a href=""></a>  <span class="fu">cat</span>(<span class="st">"hello "</span>)</span>
<span id="cb50-3"><a href=""></a>}</span>
<span id="cb50-4"><a href=""></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb50-5"><a href=""></a>  <span class="fu">cat</span>(<span class="st">"world"</span>)</span>
<span id="cb50-6"><a href=""></a>}</span>
<span id="cb50-7"><a href=""></a>f3 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb50-8"><a href=""></a>  <span class="fu">cat</span>(<span class="st">"!"</span>)</span>
<span id="cb50-9"><a href=""></a>}</span>
<span id="cb50-10"><a href=""></a>my_functions <span class="ot">&lt;-</span> <span class="fu">list</span>(f1, f2, f3)</span>
<span id="cb50-11"><a href=""></a></span>
<span id="cb50-12"><a href=""></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb50-13"><a href=""></a>  my_functions[[i]]()</span>
<span id="cb50-14"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>hello world!</code></pre>
</div>
</div>
</section>
<section id="functions-as-first-class-citizens-1" class="slide level2 xxsmall">
<h2>functions as first-class citizens</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="|1-3|5-7|9-11|13-14|15-16|17-18|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a>my_fancy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(arg_f) {</span>
<span id="cb52-2"><a href=""></a>  <span class="fu">arg_f</span>(<span class="dv">10</span>)</span>
<span id="cb52-3"><a href=""></a>}</span>
<span id="cb52-4"><a href=""></a></span>
<span id="cb52-5"><a href=""></a>secondary_function1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb52-6"><a href=""></a>  x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb52-7"><a href=""></a>}</span>
<span id="cb52-8"><a href=""></a></span>
<span id="cb52-9"><a href=""></a>secondary_function2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb52-10"><a href=""></a>  <span class="fu">factorial</span>(x)</span>
<span id="cb52-11"><a href=""></a>}</span>
<span id="cb52-12"><a href=""></a></span>
<span id="cb52-13"><a href=""></a><span class="fu">my_fancy_function</span>(<span class="at">arg_f =</span> secondary_function1)</span>
<span id="cb52-14"><a href=""></a><span class="co">#&gt; 100</span></span>
<span id="cb52-15"><a href=""></a><span class="fu">my_fancy_function</span>(<span class="at">arg_f =</span> secondary_function2)</span>
<span id="cb52-16"><a href=""></a><span class="co">#&gt; 3628800</span></span>
<span id="cb52-17"><a href=""></a><span class="fu">my_fancy_function</span>(<span class="at">arg_f =</span> factorial)</span>
<span id="cb52-18"><a href=""></a><span class="co">#&gt; 3628800</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="functions-as-first-class-citizens-2" class="slide level2">
<h2>functions as first-class citizens</h2>
<div style="padding-top: 5%">

</div>
<div class="columns">
<div class="column">
<p><img src="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/hodu_magenta.png" alt="Hodu Tip! with magenta color styling"></p>
</div><div class="column smaller">
<div style="padding-top: 10%;">

</div>
<p>in programming languages, if functions are first-class citizens, then we say that programming language supports <span class="magenta"><strong>functional programming</strong></span>, or that it is a <span class="magenta"><strong>functional programming language</strong></span></p>
</div>
</div>
</section>
<section id="making-functions-with-functions-function-factories" class="slide level2 xxsmall">
<h2>making functions with functions (function factories)</h2>
<p>the key principle behind function factories can be described simply:</p>
<blockquote>
<p>The enclosing environment of the manufactured function is an execution environment of the function factory.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href=""></a>power2 <span class="ot">&lt;-</span> <span class="cf">function</span>(exp) {</span>
<span id="cb53-2"><a href=""></a>  <span class="fu">force</span>(exp) <span class="co"># ensures exp is not lazily evaluated</span></span>
<span id="cb53-3"><a href=""></a>  <span class="cf">function</span>(x) {</span>
<span id="cb53-4"><a href=""></a>    x <span class="sc">^</span> exp</span>
<span id="cb53-5"><a href=""></a>  }</span>
<span id="cb53-6"><a href=""></a>}</span>
<span id="cb53-7"><a href=""></a></span>
<span id="cb53-8"><a href=""></a>square <span class="ot">&lt;-</span> <span class="fu">power2</span>(<span class="dv">2</span>)</span>
<span id="cb53-9"><a href=""></a>cube <span class="ot">&lt;-</span> <span class="fu">power2</span>(<span class="dv">3</span>)</span>
<span id="cb53-10"><a href=""></a></span>
<span id="cb53-11"><a href=""></a><span class="fu">square</span>(<span class="dv">2</span>)</span>
<span id="cb53-12"><a href=""></a><span class="co">#&gt; 4</span></span>
<span id="cb53-13"><a href=""></a><span class="fu">cube</span>(<span class="dv">2</span>)</span>
<span id="cb53-14"><a href=""></a><span class="co">#&gt; 8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>this isn’t a practice you will need to use often, if ever, but it is very helpful to know about to understand code you may come across and is quite instructive about how scoping/environments work in R.</p>
<div class="footer">
<p>read more: https://adv-r.hadley.nz/function-factories.html</p>
</div>
</section>
<section id="anonymous-functions" class="slide level2 xsmall">
<h2>anonymous functions</h2>
<p>functions can be created without a name (as you may have noticed in the last example). these functions are called <span class="carrot"><strong>anonymous functions</strong></span>.</p>
<p>there are a handful of ways to create anonymous functions in R, and some that are even in a specific syntax according to the package/framework you’re working in.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href=""></a><span class="co"># the oldest, most readable way:</span></span>
<span id="cb54-2"><a href=""></a><span class="cf">function</span>(x) {</span>
<span id="cb54-3"><a href=""></a>  x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb54-4"><a href=""></a>}</span>
<span id="cb54-5"><a href=""></a><span class="co"># can be abbreviated to: </span></span>
<span id="cb54-6"><a href=""></a><span class="cf">function</span>(x) { x<span class="sc">^</span><span class="dv">2</span> } <span class="co"># if writing inline</span></span>
<span id="cb54-7"><a href=""></a></span>
<span id="cb54-8"><a href=""></a><span class="co"># introduced in R 4.1.0 (May 2021)</span></span>
<span id="cb54-9"><a href=""></a>\(x) x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb54-10"><a href=""></a></span>
<span id="cb54-11"><a href=""></a><span class="co"># many functions in the tidyverse use the </span></span>
<span id="cb54-12"><a href=""></a><span class="co"># tilde syntax (also called formula syntax)</span></span>
<span id="cb54-13"><a href=""></a><span class="sc">~</span> .<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="anonymous-functions-1" class="slide level2 xsmall">
<h2>anonymous functions</h2>
<p>so how would i use anonymous functions?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a><span class="fu">library</span>(purrr)</span>
<span id="cb55-2"><a href=""></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb55-3"><a href=""></a><span class="co"># map_dbl applies the function given to each element and returns</span></span>
<span id="cb55-4"><a href=""></a><span class="co"># a numeric vector</span></span>
<span id="cb55-5"><a href=""></a><span class="fu">map_dbl</span>(vec, <span class="cf">function</span>(x) { x<span class="sc">^</span><span class="dv">2</span> }) </span>
<span id="cb55-6"><a href=""></a><span class="co">#&gt; c(1, 4, 9)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>we’re not going to fully get into functional programming right now, but this is a teaser for a later lecture on functional programming.</p>
</section></section>
<section>
<section id="testing" class="title-slide slide level1 center">
<h1>testing</h1>

</section>
<section id="testing-functions-with-test_that" class="slide level2 xxsmall">
<h2>testing functions with test_that</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a><span class="fu">library</span>(testthat)</span>
<span id="cb56-2"><a href=""></a></span>
<span id="cb56-3"><a href=""></a><span class="fu">test_that</span>(<span class="st">"calculate_hypotenuse_length works as intended"</span>, {</span>
<span id="cb56-4"><a href=""></a>  <span class="co"># test known pythagorean triples </span></span>
<span id="cb56-5"><a href=""></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="dv">0</span>)</span>
<span id="cb56-6"><a href=""></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="fu">sqrt</span>(<span class="dv">2</span>))</span>
<span id="cb56-7"><a href=""></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">3</span>, <span class="dv">4</span>), <span class="dv">5</span>)</span>
<span id="cb56-8"><a href=""></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">5</span>, <span class="dv">12</span>), <span class="dv">13</span>)</span>
<span id="cb56-9"><a href=""></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">7</span>, <span class="dv">24</span>), <span class="dv">25</span>)</span>
<span id="cb56-10"><a href=""></a>  </span>
<span id="cb56-11"><a href=""></a>  <span class="co"># test that non-numerics throw an error</span></span>
<span id="cb56-12"><a href=""></a>  <span class="fu">expect_error</span>(<span class="fu">calculate_hypotenuse_length</span>(<span class="dv">1</span>, <span class="st">'apple'</span>))</span>
<span id="cb56-13"><a href=""></a>  </span>
<span id="cb56-14"><a href=""></a>  <span class="co"># test that negative numbers are supported;</span></span>
<span id="cb56-15"><a href=""></a>  <span class="co"># this uses _random_ testing</span></span>
<span id="cb56-16"><a href=""></a>  <span class="fu">expect_gt</span>(<span class="fu">calculate_hypotenuse_length</span>(</span>
<span id="cb56-17"><a href=""></a>    <span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> <span class="fu">sample.int</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">size =</span> <span class="dv">1</span>), </span>
<span id="cb56-18"><a href=""></a>    <span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> <span class="fu">sample.int</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">size =</span> <span class="dv">1</span>)), <span class="dv">0</span>)</span>
<span id="cb56-19"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section id="key-takeaways" class="title-slide slide level1 xsmall center" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/sam-moghadam-khamseh.jpg" data-background-opacity="40%" data-background-color="black">
<h1>key takeaways</h1>
<ul>
<li>functions should help you automate the boring/repetitive stuff</li>
<li>arguments can be:
<ul>
<li>named</li>
<li>missing</li>
<li>given default values</li>
</ul></li>
<li>take care around function scoping/environments – this can be the source of a lot of bugs</li>
<li>throw warnings and errors in your functions to make future debugging easier</li>
<li>use testing to ensure your functions work to your specification</li>
</ul>
</section>

<section id="references" class="title-slide slide level1 center" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/inaki-del-olmo.jpg" data-background-opacity="20%" data-background-color="black">
<h1>references</h1>
<ul>
<li><a href="https://r4ds.had.co.nz/functions.html" class="uri">https://r4ds.had.co.nz/functions.html</a></li>
<li><a href="https://adv-r.hadley.nz/functions.html" class="uri">https://adv-r.hadley.nz/functions.html</a></li>
<li><a href="https://testthat.r-lib.org/" class="uri">https://testthat.r-lib.org/</a></li>
</ul>
</section>

<section id="challenges-for-the-activity" class="title-slide slide level1 xsmall center" data-background-image="https://raw.githubusercontent.com/ID529/lectures/refs/heads/main/graphics/transition_slides/sam-moghadam-khamseh.jpg" data-background-opacity="30%" data-background-color="black">
<h1>challenges for the activity</h1>
<ul>
<li><p>relatively easy: write a function that takes a numeric vector and returns the square of every element</p></li>
<li><p>medium: write a function that takes a character vector and returns the shortest word (hint: use nchar())</p></li>
<li><p>quite hard: what’s the scrabble points earned for a given word? (assume all letters were played with letter tiles, not blank tiles)</p></li>
</ul>
<p>here’s the scrabble points for each letter:</p>
<pre><code>(1 point)-A, E, I, O, U, L, N, S, T, R
(2 points)-D, G
(3 points)-B, C, M, P
(4 points)-F, H, V, W, Y
(5 points)-K
(8 points)- J, X
(10 points)-Q, Z</code></pre>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="functions_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="functions_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="functions_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="functions_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="functions_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="functions_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="functions_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="functions_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="functions_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="functions_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>
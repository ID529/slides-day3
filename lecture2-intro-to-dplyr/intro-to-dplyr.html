<!DOCTYPE html>
<html lang="en"><head>
<script src="intro-to-dplyr_files/libs/clipboard/clipboard.min.js"></script>
<script src="intro-to-dplyr_files/libs/quarto-html/tabby.min.js"></script>
<script src="intro-to-dplyr_files/libs/quarto-html/popper.min.js"></script>
<script src="intro-to-dplyr_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="intro-to-dplyr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="intro-to-dplyr_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="intro-to-dplyr_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="intro-to-dplyr_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <title>intro-to-dplyr</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="intro-to-dplyr_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="intro-to-dplyr_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="intro-to-dplyr_files/libs/revealjs/dist/theme/quarto.css">
  <link href="intro-to-dplyr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="intro-to-dplyr_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="intro-to-dplyr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="intro-to-dplyr_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section>
<section id="data-manipulation-with-dplyr" class="title-slide slide level1 white-title white-code center" data-background-image="images/bg-planet-1.png" data-background-size="110% auto">
<h1>Data Manipulation with dplyr</h1>
<div class="white-15-pt">
<p>ID 529: Data Management and Analytic Workflows in R</p>
</div>
<div class="white-12-pt">
<p>Dean Marengi | Wednesday, January 10<sup>th</sup>, 2024</p>
</div>
</section>
<section id="motivation" class="slide level2 smaller">
<h2>Motivation</h2>
<div class="small-break">

</div>
<ul>
<li><strong>We’ve now learned a bit about:</strong>
<ul>
<li><span class="blue-bold">Fundamentals</span> of R programming using base R syntax</li>
<li><span class="blue-bold">Importing</span> data into R</li>
<li><span class="blue-bold">Visualizing</span> data using <code>ggplot</code></li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Data are rarely free of issues when they are first collected or received</strong>
<ul>
<li>We need efficient tools to process and clean them!</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Base R is very powerful for data manipulation, but can be difficult to write and read</strong>
<ul>
<li>Complex code that’s time-consuming to write can threaten reproducibility</li>
<li><code>dplyr</code> and other R packages emphasize writing clean, readable code</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>We can leverage these R packages to:</strong>
<ul>
<li>Write efficient code to perform most data manipulation tasks</li>
<li>Chain together data manipulation operations in a concise sequence</li>
</ul></li>
</ul>
</section>
<section id="learning-objectives" class="slide level2 smaller">
<h2>Learning objectives</h2>
<ul>
<li><strong>Understand the basic principles of dplyr</strong>
<ul>
<li>Core functions for data manipulation</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Learn how to implement <code>dplyr</code> functions to prepare data for analysis</strong>
<ul>
<li>Identifying data quality issues</li>
<li>Restructuring and organizing data</li>
<li>Deriving new variables</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Learn about other functions that help core <code>dplyr</code> functions perform specific tasks</strong>
<ul>
<li>Transforming multiple columns at once</li>
<li>Selecting multiple columns at once</li>
<li>Using conditional logic to create new columns</li>
</ul></li>
</ul>
<div class="small-break">

</div>
</section>
<section id="what-is-data-manipulation" class="slide level2 smaller">
<h2>What is data manipulation?</h2>
<p><br></p>
<ul>
<li><strong>The common tasks</strong>
<ul>
<li>Cleaning and renaming variables</li>
<li>Selecting a subset of columns to work with from a larger dataset</li>
<li>Creating new variables (e.g., based on conditionals or calculations involving other columns)</li>
<li>Filtering data for a subset of rows (e.g., based on a specific group)</li>
<li>Summarizing data</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="dplyr-a-grammar-of-data-manipulation" class="title-slide slide level1 white-code white-title center" data-background-image="images/bg-planet-4.png" data-background-size="110% auto">
<h1><code>dplyr::</code> a grammar of data manipulation</h1>

</section>
<section id="dplyr-overview" class="slide level2 smaller">
<h2><code>dplyr</code> overview</h2>
<p><img data-src="images/hex-dplyr.png" class="absolute" style="bottom: 1px; right: 0px; height: 30%; "></p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>Part of the core <code>tidyverse</code> package ecosystem</li>
<li>Functions for performing common data manipulation tasks</li>
<li>Fast and efficient with concise syntax
<ul>
<li>Chain together data cleaning steps</li>
<li>Improves code readability</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Core single table functions (verbs):</strong>
<ul>
<li><code>rename()</code>: Modify variable names</li>
<li><code>select()</code>: Pick variables by name</li>
<li><code>mutate()</code>: Create new or modify existing variables</li>
<li><code>filter()</code>: Subset observations using conditionals</li>
<li><code>arrange()</code>: Reorder observations based on data</li>
<li><code>summarize()</code>: Reduce rows into a summary value</li>
</ul></li>
</ul>
</div>
</div>

<aside><div>
<p><a href="https://dplyr.tidyverse.org/" class="uri">https://dplyr.tidyverse.org/</a></p>
</div></aside></section>
<section id="dplyr-syntax-overview" class="slide level2 smaller">
<h2><code>dplyr</code> syntax overview</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>First argument in all <code>dplyr</code> functions is always a data frame or tibble</li>
<li>Variables referenced by name and without quotes (not <code>df$variable</code>)</li>
<li><code>dplyr</code> functions always return a new data frame or tibble</li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Uses the <code>%&gt;%</code> or <code>|&gt;</code> (“pipe”) operator</strong> <!-- -   Imported from `magrittr` package -->
<ul>
<li>Can “pipe” function output from one data manipulation step to the next</li>
<li>Produces clean, readable code that reads from left to right, top to bottom</li>
<li><span class="blue-bold">Note:</span> The <code>%&gt;%</code> reads as “then”</li>
</ul></li>
</ul>
</div><div class="column" style="width:5%;">
<p><br></p>
</div><div class="column" style="width:50%;">
<p><strong>Example</strong></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Print first 10 rows</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">print</span>(our_data, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 3
      id group              num_gold_stars
   &lt;int&gt; &lt;chr&gt;                       &lt;int&gt;
 1     2 i &lt;3 dplyr                    102
 2    10 dplyr rocks                    99
 3     7 dplyr rocks                    95
 4    11 i &lt;3 dplyr                     94
 5     5 i &lt;3 dplyr                    100
 6    12 clean code or bust            104
 7    15 clean code or bust             93
 8     8 i &lt;3 dplyr                     92
 9     3 clean code or bust            109
10     9 clean code or bust            102
# ℹ 5 more rows</code></pre>
</div>
</div>
</div>
<div class="code-break">

</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="1-2|1-4|1-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Take our data, which is stored as a tibble</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>new_data <span class="ot">&lt;-</span> our_data <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="co"># THEN filter our data for a subset of rows</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">filter</span>(group <span class="sc">==</span> <span class="st">"i &lt;3 dplyr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="co"># THEN arrange the result by number of gold stars</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(num_gold_stars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
     id group      num_gold_stars
  &lt;int&gt; &lt;chr&gt;               &lt;int&gt;
1    14 i &lt;3 dplyr            107
2     2 i &lt;3 dplyr            102
3     5 i &lt;3 dplyr            100
4    11 i &lt;3 dplyr             94
5     8 i &lt;3 dplyr             92</code></pre>
</div>
</div>
</div>
</div>
</div>

<!-- ## `dplyr` syntax overview (cont.) {.smaller} -->
<!-- :::: {.columns} -->
<!-- ::: {.column width=50%} -->
<!--   -   **Dot notation**    -->
<!--       -   `.`:  -->
<!--       -   `.data`: -->
<!--       -   `.x`: -->
<!-- ::: {.small-break} -->
<!-- ::: -->
<!--   -   **In-place pipe operator** `%<>%` -->
<!--       -   Combines `%>%` and `<-` -->
<!--       -   Can be used in place of `<-` -->
<!--       -   Assigns result back to the data frame object on which data manipulation operations are being performed -->
<!--       -   Use of `%<>%` vs `<-` is a [matter of preference]{.blue-bold} -->
<!-- ::: -->
<!-- ::: {.column width=50%} -->
<!-- ::: -->
<!-- :::: -->
<aside><div>
<p><a href="https://dplyr.tidyverse.org/articles/dplyr.html" class="uri">https://dplyr.tidyverse.org/articles/dplyr.html</a></p>
</div></aside></section>
<section id="dplyr-vs-base-r-syntax" class="slide level2 smaller">
<h2><code>dplyr</code> vs base R syntax</h2>
<p><img data-src="images/dplyr-vs-base.png" class="absolute" style="left: 15%; bottom: 5%; height: 80%; "></p>

<aside class="notes">
<ul>
<li><p>In the code df[order(x), , drop = FALSE] for an R dataframe, the empty part between the commas is where you would specify columns if you wanted to select specific columns from the dataframe. In R, dataframes can be subsetted using the format df[rows, columns].</p></li>
<li><p>The first part, order(x), specifies the rows to select, in this case, rows ordered based on the values in column x.</p></li>
<li><p>The second part, between the two commas, would specify the columns to select. - - Leaving it empty, as in this case, means selecting all columns.</p></li>
<li><p>The drop = FALSE argument ensures that the result remains a dataframe even if only one row or column is selected.</p></li>
<li><p>So, df[order(x), , drop = FALSE] sorts the entire dataframe df by the values in column x, keeping all the columns in the result.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><code>dplyr</code> vs base R vignette: <a href="https://dplyr.tidyverse.org/articles/base.html" class="uri">https://dplyr.tidyverse.org/articles/base.html</a></p>
</div></aside></section>
<section id="example-dataset" class="slide level2 smaller">
<h2>Example dataset</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Overview</strong></p>
<ul>
<li><code>NHANES</code> dataset available on the ID 529 GitHub</li>
<li>The dataset includes individual-level:
<ul>
<li>Demographic and clinical characteristics</li>
<li>Socioeconomic parameters</li>
<li>Blood measures of PFAS/PFOA</li>
<li>Dietary intake parameters</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>For our examples, we will include a subset of these variables</strong>
<ul>
<li><code>id</code>, <code>age</code>, <code>race_ethnicity</code></li>
<li><code>mean_BP</code>, <code>height</code>, <code>weight</code></li>
<li><code>pfos</code>, <code>pfoa</code>, <code>pfna</code>, <code>pfhs</code>, <code>pfde</code></li>
</ul></li>
</ul>
</div><p><br> <br> <br></p><div class="column" style="width:50%;">
<div class="code-break">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">glimpse</span>(data, <span class="at">width =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,339
Columns: 12
$ id             &lt;chr&gt; "73568", "73571", "73574"…
$ age            &lt;int&gt; 26, 76, 33, 16, 32, 18, 1…
$ race_ethnicity &lt;fct&gt; Non-Hispanic White, Non-H…
$ mean_BP        &lt;dbl&gt; 104.6667, 126.0000, 121.3…
$ height         &lt;dbl&gt; 152.5, 172.5, 158.0, 170.…
$ weight         &lt;dbl&gt; 47.1, 102.4, 56.8, 67.3, …
$ poverty_ratio  &lt;dbl&gt; 5.00, 5.00, 2.10, 1.58, 0…
$ PFOS           &lt;dbl&gt; 2.2, 10.2, NA, 4.7, 3.0, …
$ PFOA           &lt;dbl&gt; 3.00, 4.77, NA, 2.37, 1.4…
$ PFNA           &lt;dbl&gt; 0.5, 1.3, 0.7, 0.6, 0.4, …
$ PFHS           &lt;dbl&gt; 3.0, 2.0, 0.2, 7.6, 1.2, …
$ PFDE           &lt;dbl&gt; 0.2, 0.3, 0.1, 0.2, 0.1, …</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrrename" class="slide level2 smaller">
<h2><code>dplyr::rename()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">rename</span>(.data, ...)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">rename_with</span>(.data, .fn, <span class="at">.cols =</span> <span class="fu">everything</span>(), ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>rename()</code>
<ul>
<li><code>...</code> = variables to replace
<ul>
<li>format: <code>new_name</code> = <code>old_name</code></li>
</ul></li>
</ul></li>
<li><code>rename_with()</code>
<ul>
<li><code>.fn</code> = function to apply over multiple selected columns</li>
<li><code>.cols</code> = the columns to rename</li>
</ul></li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Rename individual variables, or multiple variables by applying a function</span> <!-- -   Returns a data frame with updated column names; other attributes are maintained --></li>
</ul>
</div><div class="column" style="width:5%;">
<p><br></p>
</div><div class="column" style="width:50%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Explicitly rename variables in the dataset</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">rename</span>(data, </span>
<span id="cb8-3"><a href="#cb8-3"></a>       <span class="at">sbp =</span> mean_BP,</span>
<span id="cb8-4"><a href="#cb8-4"></a>       <span class="at">pov_ratio =</span> poverty_ratio,</span>
<span id="cb8-5"><a href="#cb8-5"></a>       <span class="at">race_eth =</span> race_ethnicity,</span>
<span id="cb8-6"><a href="#cb8-6"></a>       ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,339
Columns: 12
$ id        &lt;chr&gt; "73568", "73571", "73574", "73…
$ age       &lt;int&gt; 26, 76, 33, 16, 32, 18, 13, 14…
$ race_eth  &lt;fct&gt; Non-Hispanic White, Non-Hispan…
$ sbp       &lt;dbl&gt; 104.6667, 126.0000, 121.3333, …
$ height    &lt;dbl&gt; 152.5, 172.5, 158.0, 170.4, 16…
$ weight    &lt;dbl&gt; 47.1, 102.4, 56.8, 67.3, 79.7,…
$ pov_ratio &lt;dbl&gt; 5.00, 5.00, 2.10, 1.58, 0.29, …
$ PFOS      &lt;dbl&gt; 2.2, 10.2, NA, 4.7, 3.0, NA, 7…
$ PFOA      &lt;dbl&gt; 3.00, 4.77, NA, 2.37, 1.47, NA…
$ PFNA      &lt;dbl&gt; 0.5, 1.3, 0.7, 0.6, 0.4, NA, 0…
$ PFHS      &lt;dbl&gt; 3.0, 2.0, 0.2, 7.6, 1.2, NA, 0…
$ PFDE      &lt;dbl&gt; 0.2, 0.3, 0.1, 0.2, 0.1, NA, 0…</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrrename-cont." class="slide level2 smaller">
<h2><code>dplyr::rename()</code> cont.</h2>
<div class="cell" data-r.options="{&quot;width&quot;:100}">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Convert all columns names to lower case</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">rename_with</span>(data, <span class="at">.fn =</span> tolower) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,339
Columns: 12
$ id             &lt;chr&gt; "73568", "73571", "73574", "73576", "73577", "73578", "73584", "73587", "73…
$ age            &lt;int&gt; 26, 76, 33, 16, 32, 18, 13, 14, 50, 20, 13, 37, 69, 16, 43, 36, 31, 80, 56,…
$ race_ethnicity &lt;fct&gt; Non-Hispanic White, Non-Hispanic White, NA, Non-Hispanic Black, Hispanic, H…
$ mean_bp        &lt;dbl&gt; 104.6667, 126.0000, 121.3333, 109.3333, 119.3333, 122.6667, 109.3333, 112.0…
$ height         &lt;dbl&gt; 152.50, 172.50, 158.00, 170.40, 166.20, 175.20, 144.90, 168.80, 180.50, 165…
$ weight         &lt;dbl&gt; 47.1, 102.4, 56.8, 67.3, 79.7, 109.4, 53.1, 110.2, 104.4, 86.7, 44.9, 126.2…
$ poverty_ratio  &lt;dbl&gt; 5.00, 5.00, 2.10, 1.58, 0.29, 0.58, 3.07, 3.33, 2.18, NA, 1.52, 0.63, 2.44,…
$ pfos           &lt;dbl&gt; 2.2, 10.2, NA, 4.7, 3.0, NA, 7.0, 35.5, NA, 4.7, 4.5, 6.3, 2.5, NA, NA, 2.0…
$ pfoa           &lt;dbl&gt; 3.00, 4.77, NA, 2.37, 1.47, NA, 2.37, 6.17, NA, 1.80, 1.87, 1.67, 2.87, NA,…
$ pfna           &lt;dbl&gt; 0.5, 1.3, 0.7, 0.6, 0.4, NA, 0.8, 3.3, NA, 0.5, 1.7, 0.5, 1.0, NA, 0.7, 0.3…
$ pfhs           &lt;dbl&gt; 3.0, 2.0, 0.2, 7.6, 1.2, NA, 0.8, 6.3, NA, 1.6, 0.8, 1.6, 2.1, NA, 3.6, 0.6…
$ pfde           &lt;dbl&gt; 0.20, 0.30, 0.10, 0.20, 0.10, NA, 0.20, 1.70, NA, 0.20, 0.20, 0.20, 0.30, N…</code></pre>
</div>
</div>
<div class="cell" data-r.options="{&quot;width&quot;:100}">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Convert column names that start with PF to upper case </span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">rename_with</span>(data, <span class="at">.fn =</span> toupper, <span class="fu">starts_with</span>(<span class="st">"pf"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,339
Columns: 12
$ id             &lt;chr&gt; "73568", "73571", "73574", "73576", "73577", "73578", "73584", "73587", "73…
$ age            &lt;int&gt; 26, 76, 33, 16, 32, 18, 13, 14, 50, 20, 13, 37, 69, 16, 43, 36, 31, 80, 56,…
$ race_ethnicity &lt;fct&gt; Non-Hispanic White, Non-Hispanic White, NA, Non-Hispanic Black, Hispanic, H…
$ mean_BP        &lt;dbl&gt; 104.6667, 126.0000, 121.3333, 109.3333, 119.3333, 122.6667, 109.3333, 112.0…
$ height         &lt;dbl&gt; 152.50, 172.50, 158.00, 170.40, 166.20, 175.20, 144.90, 168.80, 180.50, 165…
$ weight         &lt;dbl&gt; 47.1, 102.4, 56.8, 67.3, 79.7, 109.4, 53.1, 110.2, 104.4, 86.7, 44.9, 126.2…
$ poverty_ratio  &lt;dbl&gt; 5.00, 5.00, 2.10, 1.58, 0.29, 0.58, 3.07, 3.33, 2.18, NA, 1.52, 0.63, 2.44,…
$ PFOS           &lt;dbl&gt; 2.2, 10.2, NA, 4.7, 3.0, NA, 7.0, 35.5, NA, 4.7, 4.5, 6.3, 2.5, NA, NA, 2.0…
$ PFOA           &lt;dbl&gt; 3.00, 4.77, NA, 2.37, 1.47, NA, 2.37, 6.17, NA, 1.80, 1.87, 1.67, 2.87, NA,…
$ PFNA           &lt;dbl&gt; 0.5, 1.3, 0.7, 0.6, 0.4, NA, 0.8, 3.3, NA, 0.5, 1.7, 0.5, 1.0, NA, 0.7, 0.3…
$ PFHS           &lt;dbl&gt; 3.0, 2.0, 0.2, 7.6, 1.2, NA, 0.8, 6.3, NA, 1.6, 0.8, 1.6, 2.1, NA, 3.6, 0.6…
$ PFDE           &lt;dbl&gt; 0.20, 0.30, 0.10, 0.20, 0.10, NA, 0.20, 1.70, NA, 0.20, 0.20, 0.20, 0.30, N…</code></pre>
</div>
</div>
</section>
<section id="dplyrfilter" class="slide level2 smaller">
<h2><code>dplyr::filter()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">filter</span>(.data, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>...</code> = Expressions for filtering the data frame, which evaluate to <code>TRUE</code> or <code>FALSE</code></li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Subsets observations based on their values</span></li>
<li>Expressions use operators
<ul>
<li><strong>Comparison:</strong> <span class="blue-bold">&gt;</span>, <span class="blue-bold">&gt;=</span>, <span class="blue-bold">&lt;</span>, <span class="blue-bold">&lt;=</span>, <span class="blue-bold">!=</span>, <span class="blue-bold">==</span></li>
<li><strong>Logical:</strong> <span class="blue-bold">!</span>, <span class="blue-bold">&amp;</span>, <span class="blue-bold">|</span>, <span class="blue-bold">xor</span></li>
<li><strong>Binary:</strong> <span class="blue-bold">%in%</span></li>
</ul></li>
<li>Returns a data frame with a subset of rows where conditions evaluated to <code>TRUE</code></li>
</ul>
</div><div class="column" style="width:5%;">
<p><br></p>
</div><div class="column" style="width:50%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Filter for ages greater than or equal to 50</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">filter</span>(data, age <span class="sc">&gt;=</span> <span class="dv">50</span>)</span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co"># Filter for ages between 18 and 60</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="fu">filter</span>(data, age  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">18</span><span class="sc">:</span><span class="dv">60</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="code-break">

</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Filter for Hispanic participants only</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">filter</span>(data, race_ethnicity <span class="sc">==</span> <span class="st">"Hispanic"</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co"># Filter for Hispanic participants between </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># 18 and 60 years old</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="fu">filter</span>(data, </span>
<span id="cb16-7"><a href="#cb16-7"></a>       race_ethnicity <span class="sc">==</span> <span class="st">"Hispanic"</span> <span class="sc">&amp;</span> age <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">18</span><span class="sc">:</span><span class="dv">60</span>)</span>
<span id="cb16-8"><a href="#cb16-8"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="code-break">

</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Subset data for participants whose age </span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co"># is not greater than 60 and mean SBP </span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co"># is not greater than 120</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="fu">filter</span>(data, <span class="sc">!</span>(age <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">|</span> mean_BP <span class="sc">&gt;</span> <span class="dv">120</span>))</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co"># This logic achieves the same result</span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="co"># Here ',' is equivalent to '&amp;'</span></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="fu">filter</span>(data, age <span class="sc">&lt;=</span> <span class="dv">60</span>, mean_BP <span class="sc">&lt;=</span> <span class="dv">120</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="code-break">

</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Subset data for observations where poverty</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co"># ratio IS missing (NA)</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="fu">filter</span>(data, <span class="fu">is.na</span>(poverty_ratio))</span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co"># Subset data for observations where poverty</span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co"># ratio is NOT missing (NA)</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="fu">filter</span>(data, <span class="sc">!</span><span class="fu">is.na</span>(poverty_ratio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrfilter-1" class="slide level2 smaller">
<h2><code>dplyr::filter()</code></h2>
<div class="cell" data-r.options="{&quot;width&quot;:100}">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Subset data for observations where poverty</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co"># ratio IS missing (NA)</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">filter</span>(data, <span class="fu">is.na</span>(poverty_ratio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 203 × 12
   id      age race_ethnicity     mean_BP height weight poverty_ratio  PFOS  PFOA  PFNA  PFHS  PFDE
   &lt;chr&gt; &lt;int&gt; &lt;fct&gt;                &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 73598    20 Hispanic             112     165    86.7            NA   4.7  1.8    0.5   1.6  0.2 
 2 73699    20 Non-Hispanic White    98     184.   77              NA   5.6  4.6    0.5   4.4  0.1 
 3 73703    38 Hispanic              99.3   156.   63.7            NA   5    0.97   0.5   1.6  0.2 
 4 73724    26 Non-Hispanic Black   117.    184.   65.1            NA  14.8  2.9    0.8   2.1  0.1 
 5 73733    23 Hispanic             112     154    75.8            NA   2.9  1.27   0.4   1.1  0.1 
 6 73756    56 Non-Hispanic White   119.    171.   75              NA   4.6  3.2    0.5   0.9  0.2 
 7 73774    80 Non-Hispanic Black   NaN     159.   58.9            NA   6.5  1.97   0.8   2.7  0.3 
 8 73872    63 &lt;NA&gt;                 118     158.   70.3            NA  11.7  1.87   1.5   1    3.3 
 9 73914    52 &lt;NA&gt;                 111.    160.   63.6            NA   1.4  1.07   0.4   0.6  0.07
10 73935    63 Hispanic             130     174.   73.6            NA   5.2  2.6    0.9   2.6  0.2 
# ℹ 193 more rows</code></pre>
</div>
</div>
</section>
<section id="dplyrarrange" class="slide level2 smaller">
<h2><code>dplyr::arrange()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">arrange</span>(.data, ..., <span class="at">.by_group =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>...</code> = Variables or expressions to order rows by</li>
<li><code>.by_group</code> = Sort by first grouping variable (grouped data frames, only)</li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Orders data frame rows by values in specified columns</span></li>
<li>Can order by more than one column</li>
<li>Defaults to ordering from lowest-to-highest
<ul>
<li><code>desc()</code> = descending order</li>
</ul></li>
<li>Missing values are sorted last (NAs at bottom)</li>
</ul>
</div><div class="column" style="width:1%;">
<p><br></p>
</div><div class="column" style="width:54%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Take the data frame (data)</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co"># Then arrange rows by age (in ascending order)</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co"># Then print the first 5 rows</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="fu">arrange</span>(data, age) <span class="sc">%&gt;%</span> </span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 12
  id      age race_ethnicity mean_BP height weight
  &lt;chr&gt; &lt;int&gt; &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 74182    12 Hispanic          98.7   148.   37.6
2 74339    12 Hispanic         110     157.   52.7
3 74659    12 Non-Hispanic …    96.7   156.   48.5
4 74753    12 Non-Hispanic …   107.    160    46.6
5 74795    12 Hispanic          98.7   161.   71.2
# ℹ 6 more variables: poverty_ratio &lt;dbl&gt;,
#   PFOS &lt;dbl&gt;, PFOA &lt;dbl&gt;, PFNA &lt;dbl&gt;,
#   PFHS &lt;dbl&gt;, PFDE &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Take the data frame (data)</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co"># Then arrange rows by age, then mean SBP (descending)</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># Then print the first 5 rows</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="fu">arrange</span>(data, <span class="fu">desc</span>(age), <span class="fu">desc</span>(mean_BP)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 12
  id      age race_ethnicity mean_BP height weight
  &lt;chr&gt; &lt;int&gt; &lt;fct&gt;            &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 79199    80 Hispanic          196    154.   77.1
2 83662    80 Non-Hispanic …    194     NA    85.2
3 73747    80 Hispanic          193.   161.   78.4
4 77661    80 Non-Hispanic …    186    153.   95.8
5 79095    80 &lt;NA&gt;              186    145.   62.2
# ℹ 6 more variables: poverty_ratio &lt;dbl&gt;,
#   PFOS &lt;dbl&gt;, PFOA &lt;dbl&gt;, PFNA &lt;dbl&gt;,
#   PFHS &lt;dbl&gt;, PFDE &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrselect" class="slide level2 smaller">
<h2><code>dplyr::select()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">select</span>(.data, ..., <span class="at">.by_group =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>...</code> = Variable name(s) and/or expressions to select columns</li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Selects variables in a data frame</span>
<ul>
<li>Variable names referenced without quotes</li>
<li><code>select</code> <span class="blue-bold">helper functions</span> can select columns using specific operations
<ul>
<li>E.g., select variables where column names contain the string “bp”</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:5%;">
<p><br></p>
</div><div class="column" style="width:50%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:60}">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"             "age"            "race_ethnicity"
 [4] "mean_BP"        "height"         "weight"        
 [7] "poverty_ratio"  "PFOS"           "PFOA"          
[10] "PFNA"           "PFHS"           "PFDE"          </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># From the data frame, select columns explicitly by name </span></span>
<span id="cb28-2"><a href="#cb28-2"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">select</span>(age, height, weight, mean_BP) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
    age height weight mean_BP
  &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
1    26   152.   47.1    105.
2    76   172.  102.     126 
3    33   158    56.8    121.
4    16   170.   67.3    109.</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># From the data frame, select sequences of consecutive columns</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">select</span>(id<span class="sc">:</span>race_ethnicity, PFOS<span class="sc">:</span>PFDE) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="#cb30-4"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 8
  id      age race_ethnicity      PFOS  PFOA  PFNA  PFHS  PFDE
  &lt;chr&gt; &lt;int&gt; &lt;fct&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 73568    26 Non-Hispanic White   2.2  3      0.5   3     0.2
2 73571    76 Non-Hispanic White  10.2  4.77   1.3   2     0.3
3 73574    33 &lt;NA&gt;                NA   NA      0.7   0.2   0.1
4 73576    16 Non-Hispanic Black   4.7  2.37   0.6   7.6   0.2</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrselect-helpers" class="slide level2 smaller">
<h2><code>dplyr::select()</code> helpers</h2>
<ul>
<li><strong>Select variables by matching patterns in their names</strong>
<ul>
<li><code>everything()</code>: Matches all variables.</li>
<li><code>last_col()</code>: Select last variable, possibly with an offset.</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Select variables by matching patterns in their names</strong>
<ul>
<li><code>starts_with()</code>: Starts with a prefix</li>
<li><code>ends_with()</code>: Ends with a suffix</li>
<li><code>contains()</code>: Contains a literal string</li>
<li><code>matches()</code>: Matches a regular expression</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Select variables from a character vector:</strong>
<ul>
<li><code>all_of()</code>: Matches variable names in a character vector. All names must be present, otherwise an out-of-bounds error is thrown.</li>
<li><code>any_of()</code>: Same as all_of(), except that no error is thrown for names that don’t exist.</li>
</ul></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Selects variables with a function</strong>
<ul>
<li><code>where()</code>: Applies a function to all variables and selects those for which the function returns TRUE.</li>
</ul></li>
</ul>
<div class="absolute popup" style="bottom: 40%; right: -10%; width: 52%; ">
<p><a href="https://dplyr.tidyverse.org/reference/select.html" class="uri">https://dplyr.tidyverse.org/reference/select.html</a></p>
</div>
</section>
<section id="dplyrselect-helpers-1" class="slide level2 smaller">
<h2><code>dplyr::select()</code> helpers</h2>
<div class="cell" data-r.options="{&quot;width&quot;:100}">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># From the data frame, select id and columns that</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="co"># are prefixed with PF</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">select</span>(id, <span class="fu">starts_with</span>(<span class="st">"PF"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  id     PFOS  PFOA  PFNA  PFHS  PFDE
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 73568   2.2  3      0.5   3     0.2
2 73571  10.2  4.77   1.3   2     0.3
3 73574  NA   NA      0.7   0.2   0.1
4 73576   4.7  2.37   0.6   7.6   0.2</code></pre>
</div>
</div>
<div class="code-break">

</div>
<div class="cell" data-r.options="{&quot;width&quot;:100}">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Bring ID and PFAS variables to the beginning of the dataset</span></span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="co"># then position all non-selected variables after them</span></span>
<span id="cb34-3"><a href="#cb34-3"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">select</span>(id, <span class="fu">starts_with</span>(<span class="st">"PF"</span>), <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb34-5"><a href="#cb34-5"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 12
  id     PFOS  PFOA  PFNA  PFHS  PFDE   age race_ethnicity     mean_BP height weight poverty_ratio
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;fct&gt;                &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;
1 73568   2.2  3      0.5   3     0.2    26 Non-Hispanic White    105.   152.   47.1          5   
2 73571  10.2  4.77   1.3   2     0.3    76 Non-Hispanic White    126    172.  102.           5   
3 73574  NA   NA      0.7   0.2   0.1    33 &lt;NA&gt;                  121.   158    56.8          2.1 
4 73576   4.7  2.37   0.6   7.6   0.2    16 Non-Hispanic Black    109.   170.   67.3          1.58</code></pre>
</div>
</div>
</section>
<section id="dplyrmutate" class="slide level2 smaller">
<h2><code>dplyr::mutate()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">mutate</span>(.data, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>...</code> = Name value pairs</li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Changes the values of columns and creates new columns.</span>
<ul>
<li>i.e., adds new variables<br>
</li>
</ul></li>
<li>Will overwrite variables that share the same name</li>
</ul>
</div><div class="column" style="width:1%;">
<p><br></p>
</div><div class="column" style="width:54%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:80}">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># Derive new variables</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">mutate</span>(<span class="at">weight_lbs =</span> <span class="fu">round</span>(weight <span class="sc">*</span> <span class="fl">2.20462</span>, <span class="dv">2</span>), </span>
<span id="cb37-4"><a href="#cb37-4"></a>         <span class="at">height_in =</span> <span class="fu">round</span>(height <span class="sc">*</span> <span class="fl">0.393701</span>, <span class="dv">2</span>),</span>
<span id="cb37-5"><a href="#cb37-5"></a>         <span class="at">age_60 =</span> <span class="fu">if_else</span>(age <span class="sc">&gt;=</span> <span class="dv">60</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb37-6"><a href="#cb37-6"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="#cb37-7"></a>  <span class="fu">select</span>(id, age, age_60, height, height_in, weight, weight_lbs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,339 × 7
   id      age age_60 height height_in weight weight_lbs
   &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
 1 73568    26      0   152.      60.0   47.1       104.
 2 73571    76      1   172.      67.9  102.        226.
 3 73574    33      0   158       62.2   56.8       125.
 4 73576    16      0   170.      67.1   67.3       148.
 5 73577    32      0   166.      65.4   79.7       176.
 6 73578    18      0   175.      69.0  109.        241.
 7 73584    13      0   145.      57.0   53.1       117.
 8 73587    14      0   169.      66.5  110.        243.
 9 73597    50      0   180.      71.1  104.        230.
10 73598    20      0   165       65.0   86.7       191.
# ℹ 2,329 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="dplyrsummarize" class="slide level2 smaller">
<h2><code>dplyr::summarize()</code></h2>
<div class="small-break">

</div>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Function(s)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">summarize</span>(.data, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Main arguments</strong></p>
<ul>
<li><code>.data</code> = a data frame</li>
<li><code>...</code> = Name value pairs of the summary function(s) to apply</li>
</ul>
<p><strong>Description</strong></p>
<ul>
<li><span class="blue-bold">Creates a new data frame based on one or more summary functons</span>
<ul>
<li>Data frame has &gt;1 rows if the data are grouped</li>
<li>Has single row if there are no groups supplied</li>
</ul></li>
</ul>
</div><div class="column" style="width:1%;">
<p><br></p>
</div><div class="column" style="width:54%;">
<p><strong>Examples</strong></p>
<div class="fragment">
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># Compute summary statistics for age by race/ethnicity</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(race_ethnicity)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="#cb40-4"></a>  <span class="fu">group_by</span>(race_ethnicity) <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="#cb40-5"></a>  <span class="fu">summarize</span>(<span class="at">age_mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> T),</span>
<span id="cb40-6"><a href="#cb40-6"></a>            <span class="at">age_sd  =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> T), </span>
<span id="cb40-7"><a href="#cb40-7"></a>            <span class="at">age_min =</span> <span class="fu">min</span>(age, <span class="at">na.rm =</span> T), </span>
<span id="cb40-8"><a href="#cb40-8"></a>            <span class="at">age_max =</span> <span class="fu">max</span>(age, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  race_ethnicity   age_mean age_sd age_min age_max
  &lt;fct&gt;               &lt;dbl&gt;  &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
1 Non-Hispanic Wh…     47.1   21.4      12      80
2 Non-Hispanic Bl…     41.2   21.0      12      80
3 Hispanic             39.7   20.4      12      80</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="example" class="slide level2 smaller">
<h2>Example</h2>
<p><strong>Original nhanes_ID529 dataset</strong></p>
<div class="cell" data-r.options="{&quot;width&quot;:70}">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "id | race_ethnicity | sex_gender | age | poverty_ratio | days_dental_floss | PFAS_total | PFOS | PFOA | PFNA | PFHS | PFDE | total_energy | fast_food_energy_no_popcorn_no_seafood | restaurant_energy_no_popcorn_no_seafood | non_fast_food_or_restaurant_energy_no_popcorn_no_seafood | popcorn_energy | shellfish_energy | fish_energy | mean_BP | weight | height"</code></pre>
</div>
</div>
<div class="cell" data-r.options="{&quot;width&quot;:150}">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Print the data frame</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">head</span>(nhanes_id529, <span class="at">n =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       id     race_ethnicity sex_gender age poverty_ratio days_dental_floss PFAS_total PFOS PFOA PFNA PFHS PFDE total_energy
1   73568 Non-Hispanic White     Female  26          5.00                NA       8.90  2.2 3.00  0.5  3.0 0.20         3145
2   73571 Non-Hispanic White       Male  76          5.00                 2      18.57 10.2 4.77  1.3  2.0 0.30         1076
3   73574               &lt;NA&gt;     Female  33          2.10                 7         NA   NA   NA  0.7  0.2 0.10         5621
4   73576 Non-Hispanic Black       Male  16          1.58                NA      15.47  4.7 2.37  0.6  7.6 0.20         1012
5   73577           Hispanic       Male  32          0.29                 0       6.17  3.0 1.47  0.4  1.2 0.10         3194
6   73578           Hispanic       Male  18          0.58                NA         NA   NA   NA   NA   NA   NA          955
7   73584 Non-Hispanic White       Male  13          3.07                NA      11.17  7.0 2.37  0.8  0.8 0.20          663
8   73587               &lt;NA&gt;       Male  14          3.33                NA      52.97 35.5 6.17  3.3  6.3 1.70          875
9   73597 Non-Hispanic Black     Female  50          2.18                 0         NA   NA   NA   NA   NA   NA         1239
10  73598           Hispanic       Male  20            NA                NA       8.80  4.7 1.80  0.5  1.6 0.20         4865
11  73599 Non-Hispanic White     Female  13          1.52                NA       9.07  4.5 1.87  1.7  0.8 0.20         1540
12  73600 Non-Hispanic Black       Male  37          0.63                 0      10.27  6.3 1.67  0.5  1.6 0.20         2857
13  73604 Non-Hispanic White     Female  69          2.44                 7       8.77  2.5 2.87  1.0  2.1 0.30         1301
14  73606 Non-Hispanic White       Male  16          3.23                NA         NA   NA   NA   NA   NA   NA         1692
15  73610 Non-Hispanic White       Male  43          2.03                 3         NA   NA   NA  0.7  3.6 0.20         1783
16  73619           Hispanic     Female  36          0.84                 0       3.97  2.0 0.97  0.3  0.6 0.10         1331
17  73624 Non-Hispanic White     Female  31          0.47                 0       3.34  1.9 0.67  0.2  0.5 0.07         1723
18  73628 Non-Hispanic White       Male  80          3.00                 7      22.60 12.4 5.50  1.1  3.3 0.30         1972
19  73631 Non-Hispanic Black     Female  56          0.71                 0       4.57  2.1 1.17  0.6  0.5 0.20         2117
20  73633 Non-Hispanic White     Female  43          3.56                 0      21.77  9.0 7.97  2.8  1.4 0.60         1391
21  73639 Non-Hispanic White       Male  71          1.45                 0      25.27 13.3 6.37  1.5  3.6 0.50         1298
22  73642 Non-Hispanic White     Female  57          2.27                 0       9.07  5.4 1.97  0.9  0.5 0.30          769
23  73647           Hispanic     Female  61          3.53                 0       3.64  1.4 1.17  0.2  0.8 0.07          739
24  73655 Non-Hispanic Black       Male  44          1.79                 4       8.57  5.7 0.97  0.8  1.0 0.10         5012
25  73663 Non-Hispanic White       Male  25          5.00                NA      12.80  7.1 3.10  0.9  1.5 0.20         1880
26  73671 Non-Hispanic Black       Male  49          0.86                 0      22.17 15.1 1.97  1.7  2.9 0.50         3220
27  73677 Non-Hispanic Black     Female  61          5.00                 6      32.40 21.6 5.30  2.0  3.0 0.50         1257
28  73678 Non-Hispanic White       Male  51          1.02                 7      14.07  8.0 2.37  0.5  3.1 0.10         2863
29  73684               &lt;NA&gt;       Male  64          5.00                 2      13.17  6.3 3.27  1.1  2.2 0.30         1397
30  73688 Non-Hispanic White       Male  58          4.45                 7      18.07 12.4 2.07  0.7  2.8 0.10         1636
31  73693 Non-Hispanic White     Female  78          0.78                 7       6.57  3.6 1.70  0.3  0.9 0.07         1562
32  73694 Non-Hispanic White     Female  66          4.51                 2       6.87  3.6 0.87  0.4  1.9 0.10         1129
33  73699 Non-Hispanic White       Male  20            NA                NA      15.20  5.6 4.60  0.5  4.4 0.10           NA
34  73702 Non-Hispanic White     Female  48          3.81                 0       2.54  0.9 0.97  0.3  0.3 0.07         2125
35  73703           Hispanic     Female  38            NA                 7       8.27  5.0 0.97  0.5  1.6 0.20         2027
36  73708           Hispanic       Male  69          5.00                 7       8.64  5.8 1.17  0.6  1.0 0.07         2317
37  73714 Non-Hispanic White     Female  29          5.00                NA       6.57  1.9 2.77  0.6  1.0 0.30         3880
38  73715 Non-Hispanic White     Female  38          3.07                 3       8.47  4.2 2.37  0.9  0.7 0.30         1390
39  73717 Non-Hispanic Black       Male  78          1.89                 2      46.07 33.4 5.77  2.5  3.8 0.60         2294
40  73718 Non-Hispanic Black       Male  53          1.02                 7      12.87  7.6 1.27  0.8  3.0 0.20         1304
41  73723 Non-Hispanic White       Male  77          5.00                 0      34.20 22.4 6.40  1.0  4.1 0.30         1084
42  73724 Non-Hispanic Black       Male  26            NA                NA      20.70 14.8 2.90  0.8  2.1 0.10         1262
43  73732 Non-Hispanic White       Male  80          3.18                 0       4.07  2.6 0.77  0.3  0.2 0.20         2020
44  73733           Hispanic     Female  23            NA                NA       5.77  2.9 1.27  0.4  1.1 0.10         1339
45  73740               &lt;NA&gt;     Female  57          2.52                 7      22.37 15.4 2.67  1.6  1.3 1.40         1878
46  73747           Hispanic     Female  80          5.00                 0      29.47 20.7 2.47  1.3  4.6 0.40          392
47  73756 Non-Hispanic White       Male  56            NA                 5       9.40  4.6 3.20  0.5  0.9 0.20         1839
48  73760 Non-Hispanic White       Male  64          1.27                 0      17.87 12.6 2.67  0.9  1.4 0.30         1926
49  73766 Non-Hispanic White     Female  75          1.75                 6      11.90  6.4 2.70  0.7  1.9 0.20         1760
50  73774 Non-Hispanic Black     Female  80            NA                 0      12.27  6.5 1.97  0.8  2.7 0.30         1298
51  73778           Hispanic       Male  62          2.08                 7      12.54  5.6 2.57  0.6  3.7 0.07         3730
52  73782 Non-Hispanic White       Male  68          1.08                 4      15.00  6.8 3.30  1.2  3.6 0.10         1524
53  73787 Non-Hispanic Black       Male  71          3.07                 0      22.37 16.3 3.17  0.8  1.8 0.30          616
54  73800 Non-Hispanic White     Female  54          1.29                 0      12.44  9.3 1.57  0.6  0.9 0.07          883
55  73806 Non-Hispanic Black       Male  63          5.00                 3      42.07 32.9 1.57  3.1  3.2 1.30         1141
56  73809 Non-Hispanic White     Female  52          1.33                 3       2.67  1.2 0.70  0.3  0.4 0.07         1324
57  73810           Hispanic       Male  48          2.25                 1       8.37  3.2 2.47  0.4  2.2 0.10         3200
58  73822 Non-Hispanic Black     Female  13          0.03                NA         NA   NA   NA   NA   NA   NA           NA
59  73826           Hispanic     Female  14          0.54                NA       6.07  2.2 1.37  1.7  0.7 0.10         1788
60  73833               &lt;NA&gt;     Female  34          5.00                 3         NA   NA   NA   NA   NA   NA         1898
61  73835           Hispanic       Male  13          5.00                NA       8.10  3.5 2.70  0.7  1.0 0.20         2253
62  73841           Hispanic       Male  13          0.58                NA       4.47  1.2 1.97  0.7  0.5 0.10         1244
63  73845 Non-Hispanic White     Female  70          1.65                 7         NA   NA   NA  0.4  3.8 0.07         1420
64  73846 Non-Hispanic Black     Female  24          1.43                NA       5.57  2.8 1.17  0.7  0.8 0.10         1338
65  73847 Non-Hispanic White       Male  34          1.13                 0         NA   NA   NA  0.5  1.7 0.20         2100
66  73849 Non-Hispanic White     Female  16          5.00                NA       7.24  4.1 1.07  0.2  1.8 0.07         2617
67  73855 Non-Hispanic White     Female  38          0.28                 0       8.17  4.3 1.67  1.0  1.0 0.20         2832
68  73862 Non-Hispanic White     Female  61          1.28                 0      12.17  4.8 3.47  1.0  2.6 0.30          973
69  73864 Non-Hispanic White     Female  62          1.21                 4       9.87  6.3 1.87  0.8  0.7 0.20         1287
70  73866           Hispanic     Female  47          4.67                 3       2.64  0.8 1.17  0.2  0.4 0.07         2067
71  73872               &lt;NA&gt;     Female  63            NA                 2      19.37 11.7 1.87  1.5  1.0 3.30           NA
72  73873               &lt;NA&gt;       Male  80          2.26                 0      11.57  7.2 2.47  0.7  1.0 0.20         1934
73  73875           Hispanic       Male  43          1.65                 7       8.37  6.3 0.87  0.5  0.5 0.20         4688
74  73879 Non-Hispanic White     Female  58          2.03                 0      11.57  6.1 2.47  0.7  2.2 0.10         2674
75  73881           Hispanic       Male  38          0.86                 2      14.80  6.7 3.30  0.6  4.0 0.20         2832
76  73882 Non-Hispanic White     Female  25          0.21                NA      10.70  5.4 2.80  0.9  1.3 0.30         2392
77  73884           Hispanic       Male  43          3.82                 2      11.47  6.0 1.87  0.9  2.6 0.10         2020
78  73886           Hispanic     Female  64          5.00                 7      15.07  7.5 4.67  0.8  1.9 0.20         1041
79  73887 Non-Hispanic White       Male  16          2.20                NA      19.20  8.1 6.80  1.9  1.6 0.80         1830
80  73888 Non-Hispanic White       Male  56          5.00                 1      17.67 10.4 3.27  0.7  3.2 0.10         1173
81  73890 Non-Hispanic Black       Male  16          0.30                NA       6.94  2.2 1.37  0.5  2.8 0.07         2353
82  73892               &lt;NA&gt;       Male  15          5.00                NA       5.17  2.3 1.77  0.6  0.4 0.10         1765
83  73899 Non-Hispanic Black       Male  57          5.00                 7      22.77 11.4 1.57  0.8  8.8 0.20         5117
84  73904           Hispanic       Male  17          0.54                NA      11.07  7.2 1.87  0.5  1.3 0.20         1636
85  73906           Hispanic     Female  34          0.44                 2       2.24  1.3 0.47  0.2  0.2 0.07         2543
86  73908 Non-Hispanic White       Male  67          3.22                 0      31.07 19.8 4.57  2.2  3.8 0.70         1193
87  73914               &lt;NA&gt;     Female  52            NA                 3       3.54  1.4 1.07  0.4  0.6 0.07         2676
88  73915 Non-Hispanic White     Female  14          0.87                NA         NA   NA   NA  0.4  0.6 0.07         1468
89  73919 Non-Hispanic Black       Male  61          0.00                 7         NA   NA   NA   NA   NA   NA         1936
90  73920           Hispanic       Male  18          1.83                NA       6.87  3.7 1.37  0.4  1.2 0.20         2324
91  73925           Hispanic       Male  60          0.83                 0       8.57  4.6 1.57  0.6  1.6 0.20         2161
92  73926           Hispanic       Male  64          3.33                 7         NA   NA   NA  0.6  1.2 0.20         4163
93  73930 Non-Hispanic Black     Female  70          5.00                 5      12.57  6.7 3.47  0.8  1.3 0.30         2137
94  73931           Hispanic     Female  37          0.56                 7       5.37  3.5 0.97  0.4  0.4 0.10         1712
95  73935           Hispanic       Male  63            NA                 7      11.50  5.2 2.60  0.9  2.6 0.20         1393
96  73941 Non-Hispanic Black       Male  28          2.30                NA      20.40  7.4 3.60  1.0  8.1 0.30          736
97  73943           Hispanic       Male  19          1.97                NA      17.67 10.8 3.57  0.8  2.2 0.30           NA
98  73949           Hispanic       Male  48          0.73                 1         NA   NA   NA  0.8  2.9 0.40         4138
99  73957               &lt;NA&gt;     Female  26          4.04                NA       9.10  4.7 2.50  0.7  0.3 0.90         1317
100 73964 Non-Hispanic Black       Male  45          5.00                 7      14.97  9.6 3.07  0.7  1.5 0.10         1427
    fast_food_energy_no_popcorn_no_seafood restaurant_energy_no_popcorn_no_seafood non_fast_food_or_restaurant_energy_no_popcorn_no_seafood
1                                        0                                       0                                                     2948
2                                        0                                       0                                                     1076
3                                      142                                    2643                                                     2836
4                                        0                                       0                                                     1012
5                                      637                                       0                                                     2557
6                                        0                                       0                                                      955
7                                        0                                       0                                                      663
8                                        0                                       0                                                      875
9                                        0                                       0                                                     1008
10                                       0                                    1841                                                     2770
11                                    1246                                       0                                                      294
12                                       0                                       0                                                     2857
13                                      20                                       0                                                     1281
14                                       0                                       0                                                     1692
15                                       0                                       0                                                     1783
16                                       0                                       0                                                     1291
17                                       0                                       0                                                     1723
18                                       0                                       6                                                     1966
19                                       0                                       0                                                     2117
20                                       0                                     482                                                      909
21                                       0                                       0                                                     1298
22                                       0                                     200                                                      569
23                                     470                                       0                                                      269
24                                    1556                                    1438                                                     2018
25                                       0                                       0                                                     1880
26                                       0                                       0                                                     3220
27                                     602                                       0                                                      655
28                                       0                                       0                                                     2863
29                                       0                                     551                                                      846
30                                       0                                       0                                                     1636
31                                       0                                       0                                                     1562
32                                       0                                       0                                                     1129
33                                      NA                                      NA                                                       NA
34                                     923                                       0                                                     1202
35                                       0                                       0                                                     2027
36                                       0                                       0                                                     2317
37                                    1718                                    1780                                                      382
38                                       0                                       0                                                     1390
39                                       0                                       0                                                     2294
40                                     589                                       0                                                      715
41                                       0                                     628                                                      456
42                                       0                                       0                                                     1262
43                                       0                                    1726                                                      294
44                                    1201                                       0                                                      138
45                                       0                                       0                                                     1771
46                                       0                                       0                                                      392
47                                     744                                       0                                                     1095
48                                       0                                       0                                                     1926
49                                       0                                     895                                                      865
50                                       0                                       0                                                     1298
51                                     134                                       0                                                     3596
52                                       0                                       0                                                     1524
53                                       0                                       0                                                      616
54                                       0                                       0                                                      412
55                                       0                                     432                                                      488
56                                     948                                       0                                                      376
57                                     187                                       0                                                     3013
58                                      NA                                      NA                                                       NA
59                                       0                                       0                                                     1408
60                                       0                                       0                                                     1898
61                                     739                                       0                                                     1514
62                                       0                                       0                                                     1244
63                                     500                                       0                                                      920
64                                     973                                       0                                                      365
65                                       0                                       0                                                     2100
66                                     559                                    1512                                                      376
67                                    1208                                       0                                                     1624
68                                       0                                       0                                                      973
69                                       0                                     826                                                      461
70                                     703                                     887                                                      477
71                                      NA                                      NA                                                       NA
72                                       0                                       0                                                     1686
73                                       0                                     762                                                     3926
74                                       0                                       0                                                     2674
75                                       0                                    1560                                                     1272
76                                     455                                       0                                                     1937
77                                       0                                    1072                                                      948
78                                       0                                     554                                                      487
79                                       0                                       0                                                     1830
80                                       0                                     533                                                      640
81                                    1105                                       0                                                     1248
82                                       0                                       0                                                     1765
83                                       0                                    3424                                                     1693
84                                     874                                       0                                                      762
85                                     823                                       0                                                     1720
86                                     595                                       0                                                      303
87                                     317                                       0                                                     2359
88                                     440                                       0                                                     1028
89                                       0                                     572                                                     1364
90                                     437                                       0                                                     1887
91                                     182                                       0                                                     1979
92                                       0                                       0                                                     4163
93                                       0                                       0                                                     2137
94                                       0                                       0                                                     1712
95                                     321                                     722                                                      350
96                                       0                                       0                                                      736
97                                      NA                                      NA                                                       NA
98                                       0                                     348                                                     3432
99                                       0                                     445                                                      814
100                                     74                                       0                                                      841
    popcorn_energy shellfish_energy fish_energy   mean_BP weight height
1              197                0           0 104.66667   47.1 152.50
2                0                0           0 126.00000  102.4 172.50
3                0                0           0 121.33333   56.8 158.00
4                0                0           0 109.33333   67.3 170.40
5                0                0           0 119.33333   79.7 166.20
6                0                0           0 122.66667  109.4 175.20
7                0                0           0 109.33333   53.1 144.90
8                0                0           0 112.00000  110.2 168.80
9                0                0         231       NaN  104.4 180.50
10               0              254           0 112.00000   86.7 165.00
11               0                0           0 118.00000   44.9 158.80
12               0                0           0 149.33333  126.2 185.10
13               0                0           0 115.33333   59.5 156.90
14               0                0           0 120.00000   84.2 176.80
15               0                0           0 131.33333   90.2 176.80
16               0                0          40 104.00000   81.7 173.10
17               0                0           0 102.66667   82.9 171.10
18               0                0           0 108.66667   74.0 176.90
19               0                0           0 161.33333   98.8 158.90
20               0                0           0 140.00000   76.8 158.70
21               0                0           0 123.33333   81.5 164.00
22               0                0           0 128.00000   95.5 159.00
23               0                0           0 115.33333   74.2 163.80
24               0                0           0 133.33333  113.1 190.54
25               0                0           0 111.33333  124.8 194.60
26               0                0           0 138.66667   58.2 165.30
27               0                0           0 106.00000  105.2 169.90
28               0                0           0 131.33333  100.1 172.30
29               0                0           0 116.66667   63.9 160.50
30               0                0           0 122.66667   97.1 170.10
31               0                0           0 182.00000   78.8 149.60
32               0                0           0 114.00000   76.0 168.40
33              NA               NA          NA  98.00000   77.0 184.10
34               0                0           0 156.66667  123.3 163.30
35               0                0           0  99.33333   63.7 156.20
36               0                0           0 114.66667   71.2 165.80
37               0                0           0 102.00000   71.9 164.90
38               0                0           0 104.66667   85.2 157.00
39               0                0           0 166.00000   85.7 162.50
40               0                0           0 134.00000   99.8 194.00
41               0                0           0 129.33333  105.1 177.30
42               0                0           0 116.66667   65.1 184.20
43               0                0           0 158.00000   64.4 169.20
44               0                0           0 112.00000   75.8 154.00
45               0              107           0 115.33333   64.6 154.80
46               0                0           0 193.33333   78.4 161.40
47               0                0           0 118.66667   75.0 171.30
48               0                0           0 124.66667   61.5 169.90
49               0                0           0 135.33333   88.3 156.60
50               0                0           0       NaN   58.9 158.70
51               0                0           0 140.00000  161.8 175.90
52               0                0           0 112.00000   65.2 167.80
53               0                0           0  91.33333   97.9 186.20
54               0                0         471 124.66667  138.5 159.90
55               0              221           0 131.33333  109.2 184.20
56               0                0           0 135.33333   68.3 163.40
57               0                0           0 117.33333   84.9 177.50
58              NA               NA          NA 105.33333   52.0 168.80
59               0                0         380  94.00000   47.2 154.70
60               0                0           0  93.33333   46.9 159.30
61               0                0           0 117.33333   64.4 165.60
62               0                0           0 105.33333   63.6 167.60
63               0                0           0 130.66667   95.3 156.10
64               0                0           0 110.66667   83.7 155.90
65               0                0           0 132.00000   96.8 180.90
66               0                0         170 104.66667   49.3 158.80
67               0                0           0       NaN  137.1 153.00
68               0                0           0 151.33333   98.2 149.10
69               0                0           0 109.33333   78.7 158.00
70               0                0           0 126.00000  127.3 158.20
71              NA               NA          NA 118.00000   70.3 158.30
72             248                0           0 138.00000   68.3 161.70
73               0                0           0 122.66667   92.3 180.80
74               0                0           0 146.66667   50.3 161.40
75               0                0           0 119.33333  110.7 174.20
76               0                0           0 114.00000   65.7 157.20
77               0                0           0 116.66667   92.0 173.20
78               0                0           0 130.66667   82.9 163.00
79               0                0           0 122.00000   89.9 170.80
80               0                0           0 137.33333  101.8 175.60
81               0                0           0 118.66667  132.0 177.00
82               0                0           0  98.00000   61.6 169.40
83               0                0           0 125.33333  140.6 182.30
84               0                0           0 120.66667   59.2 168.50
85               0                0           0 106.00000   85.9 172.40
86               0                0         295 108.00000   95.5 178.70
87               0                0           0 110.66667   63.6 160.30
88               0                0           0  86.66667   83.3 168.30
89               0                0           0 151.33333   93.4 173.20
90               0                0           0 126.00000   60.0 168.70
91               0                0           0 107.33333   81.5 168.60
92               0                0           0 139.33333   88.4 169.10
93               0                0           0 136.66667   92.4 164.00
94               0                0           0 119.00000   68.9 146.70
95               0                0           0 130.00000   73.6 174.30
96               0                0           0 117.33333   75.5 170.10
97              NA               NA          NA  98.00000   55.4 161.50
98               0              194         164 130.66667   94.4 171.70
99               0                4          54 103.33333   59.2 160.60
100              0                0         512 158.00000   89.2 172.80</code></pre>
</div>
</div>
<div class="small-break">

</div>
<p><span class="blue-bold">Notice that the standard data frame does not print with information about data types, dataset dimensions, etc. Additionally, constraints of the slide width prevent information about other columns in the data frame from being displayed. Standard data frames run into similar print issues in the R console, which can make them difficult to work with</span></p>
</section>
<section id="example-1" class="slide level2 smaller">
<h2>Example</h2>
<div class="cell" data-r.options="{&quot;width&quot;:80}">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># Coerce the data frame to a tibble data frame, and assign it to 'data'</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>data <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(nhanes_id529)</span>
<span id="cb45-3"><a href="#cb45-3"></a></span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="co"># Print the tibble data frame</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,339 × 22
   id    race_ethnicity     sex_gender   age poverty_ratio days_dental_floss
   &lt;chr&gt; &lt;fct&gt;              &lt;fct&gt;      &lt;int&gt;         &lt;dbl&gt;             &lt;int&gt;
 1 73568 Non-Hispanic White Female        26          5                   NA
 2 73571 Non-Hispanic White Male          76          5                    2
 3 73574 &lt;NA&gt;               Female        33          2.1                  7
 4 73576 Non-Hispanic Black Male          16          1.58                NA
 5 73577 Hispanic           Male          32          0.29                 0
 6 73578 Hispanic           Male          18          0.58                NA
 7 73584 Non-Hispanic White Male          13          3.07                NA
 8 73587 &lt;NA&gt;               Male          14          3.33                NA
 9 73597 Non-Hispanic Black Female        50          2.18                 0
10 73598 Hispanic           Male          20         NA                   NA
# ℹ 2,329 more rows
# ℹ 16 more variables: PFAS_total &lt;dbl&gt;, PFOS &lt;dbl&gt;, PFOA &lt;dbl&gt;, PFNA &lt;dbl&gt;,
#   PFHS &lt;dbl&gt;, PFDE &lt;dbl&gt;, total_energy &lt;int&gt;,
#   fast_food_energy_no_popcorn_no_seafood &lt;int&gt;,
#   restaurant_energy_no_popcorn_no_seafood &lt;int&gt;,
#   non_fast_food_or_restaurant_energy_no_popcorn_no_seafood &lt;int&gt;,
#   popcorn_energy &lt;int&gt;, shellfish_energy &lt;int&gt;, fish_energy &lt;int&gt;, …</code></pre>
</div>
</div>
<div class="small-break">

</div>
<p><span class="blue-bold">Okay, much better! The tibble data frame provides information about the dataset dimensions, data types, and is also more accommodating of the constrained print width (it still prints details about variables that are not able to be fully displayed).</span></p>
<div class="small-break">

</div>
</section>
<section id="example-2" class="slide level2 smaller">
<h2>Example</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p><strong>Let’s use <code>dplyr</code> to organize these data</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># Print variable names for reference</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"                                                      
 [2] "race_ethnicity"                                          
 [3] "sex_gender"                                              
 [4] "age"                                                     
 [5] "poverty_ratio"                                           
 [6] "days_dental_floss"                                       
 [7] "PFAS_total"                                              
 [8] "PFOS"                                                    
 [9] "PFOA"                                                    
[10] "PFNA"                                                    
[11] "PFHS"                                                    
[12] "PFDE"                                                    
[13] "total_energy"                                            
[14] "fast_food_energy_no_popcorn_no_seafood"                  
[15] "restaurant_energy_no_popcorn_no_seafood"                 
[16] "non_fast_food_or_restaurant_energy_no_popcorn_no_seafood"
[17] "popcorn_energy"                                          
[18] "shellfish_energy"                                        
[19] "fish_energy"                                             
[20] "mean_BP"                                                 
[21] "weight"                                                  
[22] "height"                                                  </code></pre>
</div>
</div>
</div><div class="column" style="width:45%;">
<p><strong>Clean-up steps</strong></p>
<ul>
<li>Change all variable names to lower case</li>
<li>Explicitly rename a few variables</li>
<li>Select sequences of columns of interest
<ul>
<li><code>pf.*</code> looks for names that begin with ‘pf’ (with no specific text thereafter)</li>
</ul></li>
<li>Move the <code>pfas_total</code> column to the end</li>
<li><span class="blue-bold">Output on next slide!</span></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:200}">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">tolower</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">rename</span>(</span>
<span id="cb49-4"><a href="#cb49-4"></a>    <span class="at">race_eth =</span> race_ethnicity,</span>
<span id="cb49-5"><a href="#cb49-5"></a>    <span class="at">mean_sbp =</span> mean_bp, </span>
<span id="cb49-6"><a href="#cb49-6"></a>    <span class="at">pov_ratio =</span> poverty_ratio</span>
<span id="cb49-7"><a href="#cb49-7"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="#cb49-8"></a>  <span class="fu">select</span>(id<span class="sc">:</span>race_eth, </span>
<span id="cb49-9"><a href="#cb49-9"></a>         mean_sbp<span class="sc">:</span>height, </span>
<span id="cb49-10"><a href="#cb49-10"></a>         pov_ratio, </span>
<span id="cb49-11"><a href="#cb49-11"></a>         <span class="fu">matches</span>(<span class="st">"pf.*"</span>)</span>
<span id="cb49-12"><a href="#cb49-12"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb49-13"><a href="#cb49-13"></a>  <span class="fu">relocate</span>(pfas_total, <span class="at">.after =</span> <span class="fu">last_col</span>())</span>
<span id="cb49-14"><a href="#cb49-14"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</div>
</div>
</section>
<section id="example-2-output" class="slide level2 smaller output-location-slide"><h2>Example</h2><div class="cell output-location-slide" data-r.options="{&quot;width&quot;:200}">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,339 × 12
   id    race_eth           mean_sbp weight height pov_ratio  pfos  pfoa  pfna  pfhs  pfde pfas_total
   &lt;chr&gt; &lt;fct&gt;                 &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1 73568 Non-Hispanic White     105.   47.1   152.      5      2.2  3      0.5   3     0.2       8.9 
 2 73571 Non-Hispanic White     126   102.    172.      5     10.2  4.77   1.3   2     0.3      18.6 
 3 73574 &lt;NA&gt;                   121.   56.8   158       2.1   NA   NA      0.7   0.2   0.1      NA   
 4 73576 Non-Hispanic Black     109.   67.3   170.      1.58   4.7  2.37   0.6   7.6   0.2      15.5 
 5 73577 Hispanic               119.   79.7   166.      0.29   3    1.47   0.4   1.2   0.1       6.17
 6 73578 Hispanic               123.  109.    175.      0.58  NA   NA     NA    NA    NA        NA   
 7 73584 Non-Hispanic White     109.   53.1   145.      3.07   7    2.37   0.8   0.8   0.2      11.2 
 8 73587 &lt;NA&gt;                   112   110.    169.      3.33  35.5  6.17   3.3   6.3   1.7      53.0 
 9 73597 Non-Hispanic Black     NaN   104.    180.      2.18  NA   NA     NA    NA    NA        NA   
10 73598 Hispanic               112    86.7   165      NA      4.7  1.8    0.5   1.6   0.2       8.8 
# ℹ 2,329 more rows</code></pre>
</div>
</div></section><section id="example-3" class="slide level2 smaller">
<h2>Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Derive a variable for hypertension status</strong></p>
<ul>
<li>Use <code>case_when()</code> to apply conditional logic
<ul>
<li>Derive hypertension categories</li>
</ul></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">mutate</span>(<span class="at">htn_cat =</span> <span class="fu">factor</span>(</span>
<span id="cb51-3"><a href="#cb51-3"></a>    <span class="fu">case_when</span>(</span>
<span id="cb51-4"><a href="#cb51-4"></a>      mean_sbp <span class="sc">&lt;</span> <span class="dv">120</span> <span class="sc">~</span> <span class="st">"normal"</span>,</span>
<span id="cb51-5"><a href="#cb51-5"></a>      mean_sbp <span class="sc">&gt;=</span> <span class="dv">120</span> <span class="sc">&amp;</span> mean_sbp <span class="sc">&lt;</span> <span class="dv">130</span> <span class="sc">~</span> <span class="st">"elevated"</span>,</span>
<span id="cb51-6"><a href="#cb51-6"></a>      mean_sbp <span class="sc">&gt;=</span> <span class="dv">130</span> <span class="sc">&amp;</span> mean_sbp <span class="sc">&lt;</span> <span class="dv">140</span> <span class="sc">~</span> <span class="st">"stage1"</span>,</span>
<span id="cb51-7"><a href="#cb51-7"></a>      mean_sbp <span class="sc">&gt;=</span> <span class="dv">140</span> <span class="sc">~</span> <span class="st">"stage2"</span>,</span>
<span id="cb51-8"><a href="#cb51-8"></a>      <span class="fu">is.na</span>(mean_sbp) <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb51-9"><a href="#cb51-9"></a>    )</span>
<span id="cb51-10"><a href="#cb51-10"></a>  ))</span>
<span id="cb51-11"><a href="#cb51-11"></a></span>
<span id="cb51-12"><a href="#cb51-12"></a><span class="co"># Print</span></span>
<span id="cb51-13"><a href="#cb51-13"></a><span class="fu">glimpse</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,339
Columns: 13
$ id         &lt;chr&gt; "73568", "73571", "73574", "7…
$ race_eth   &lt;fct&gt; Non-Hispanic White, Non-Hispa…
$ mean_sbp   &lt;dbl&gt; 104.6667, 126.0000, 121.3333,…
$ weight     &lt;dbl&gt; 47.1, 102.4, 56.8, 67.3, 79.7…
$ height     &lt;dbl&gt; 152.5, 172.5, 158.0, 170.4, 1…
$ pov_ratio  &lt;dbl&gt; 5.00, 5.00, 2.10, 1.58, 0.29,…
$ pfos       &lt;dbl&gt; 2.2, 10.2, NA, 4.7, 3.0, NA, …
$ pfoa       &lt;dbl&gt; 3.00, 4.77, NA, 2.37, 1.47, N…
$ pfna       &lt;dbl&gt; 0.5, 1.3, 0.7, 0.6, 0.4, NA, …
$ pfhs       &lt;dbl&gt; 3.0, 2.0, 0.2, 7.6, 1.2, NA, …
$ pfde       &lt;dbl&gt; 0.2, 0.3, 0.1, 0.2, 0.1, NA, …
$ pfas_total &lt;dbl&gt; 8.90, 18.57, NA, 15.47, 6.17,…
$ htn_cat    &lt;fct&gt; normal, elevated, elevated, n…</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Compute summary statistics for PFAS variables</strong></p>
<ul>
<li>Some methods implemented in this example will be discussed more next week</li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:50}">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2"></a>  <span class="co"># Change to a long data format (more on this soon!)</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">pivot_longer</span>(<span class="fu">matches</span>(<span class="st">"pf.*"</span>), </span>
<span id="cb53-4"><a href="#cb53-4"></a>               <span class="at">names_to =</span> <span class="st">"pfas_parameter"</span>,</span>
<span id="cb53-5"><a href="#cb53-5"></a>               <span class="at">values_to =</span> <span class="st">"concentration"</span>  </span>
<span id="cb53-6"><a href="#cb53-6"></a>               ) <span class="sc">%&gt;%</span></span>
<span id="cb53-7"><a href="#cb53-7"></a>  <span class="co"># Group the data by PFAS variable name</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>  <span class="fu">group_by</span>(pfas_parameter) <span class="sc">%&gt;%</span> </span>
<span id="cb53-9"><a href="#cb53-9"></a>  <span class="co"># Compute some grouped summary statistics</span></span>
<span id="cb53-10"><a href="#cb53-10"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(concentration, <span class="at">na.rm =</span> T),</span>
<span id="cb53-11"><a href="#cb53-11"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(concentration, <span class="at">na.rm =</span> T),</span>
<span id="cb53-12"><a href="#cb53-12"></a>            <span class="at">med =</span> <span class="fu">median</span>(concentration, <span class="at">na.rm =</span> T),</span>
<span id="cb53-13"><a href="#cb53-13"></a>            <span class="at">min =</span> <span class="fu">min</span>(concentration, <span class="at">na.rm =</span> T),</span>
<span id="cb53-14"><a href="#cb53-14"></a>            <span class="at">max =</span> <span class="fu">max</span>(concentration, <span class="at">na.rm =</span> T)</span>
<span id="cb53-15"><a href="#cb53-15"></a>            ) <span class="sc">%&gt;%</span> </span>
<span id="cb53-16"><a href="#cb53-16"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  pfas_parameter   mean     sd   med   min    max
  &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 pfas_total     13.5   34.0    9.97  0.49 1423. 
2 pfos            8.02  32.7    5.1   0.14 1403  
3 pfoa            2.33   3.01   1.87  0.14   85.3
4 pfhs            1.94   2.21   1.3   0.07   33.9
5 pfna            0.871  0.826  0.7   0.07   16.3
6 pfde            0.313  1.21   0.2   0.07   51.3</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="dplyr-learnr-tutorials" class="slide level2 smaller">
<h2><code>dplyr</code> <code>learnr</code> tutorials</h2>
<p><br></p>
<p><strong><code>learnr</code> is an R package for creating interactive tutorials with R markdown.</strong></p>
<ul>
<li>Install and load the <code>learnr</code> package</li>
<li>Select one of the following three exercises to complete
<ul>
<li><code>ex-data-filter</code>: Filtering observations</li>
<li><code>ex-data-mutate</code>: Creating new variables</li>
<li><code>ex-data-summarise</code>: Summarizing data</li>
</ul></li>
</ul>
<div class="code-break">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># Install the learnr package</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">install.packages</span>(<span class="st">"learnr"</span>)</span>
<span id="cb55-3"><a href="#cb55-3"></a></span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="co"># Load learnr</span></span>
<span id="cb55-5"><a href="#cb55-5"></a><span class="fu">library</span>(<span class="st">"learnr"</span>)</span>
<span id="cb55-6"><a href="#cb55-6"></a></span>
<span id="cb55-7"><a href="#cb55-7"></a><span class="co"># Filtering observations </span></span>
<span id="cb55-8"><a href="#cb55-8"></a><span class="fu">run_tutorial</span>(<span class="at">name =</span> <span class="st">"ex-data-filter"</span>, <span class="at">package =</span> <span class="st">"learnr"</span>)</span>
<span id="cb55-9"><a href="#cb55-9"></a></span>
<span id="cb55-10"><a href="#cb55-10"></a><span class="co"># Creating new variables</span></span>
<span id="cb55-11"><a href="#cb55-11"></a><span class="fu">run_tutorial</span>(<span class="at">name =</span> <span class="st">"ex-data-mutate"</span>, <span class="at">package =</span> <span class="st">"learnr"</span>)</span>
<span id="cb55-12"><a href="#cb55-12"></a></span>
<span id="cb55-13"><a href="#cb55-13"></a><span class="co"># Summarizing data</span></span>
<span id="cb55-14"><a href="#cb55-14"></a><span class="fu">run_tutorial</span>(<span class="at">name =</span> <span class="st">"ex-data-summarise"</span>, <span class="at">package =</span> <span class="st">"learnr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- ## Key takeaways {.smaller} -->
</section>
<section id="resources" class="slide level2 smaller">
<h2>Resources</h2>
<div class="small-break">

</div>
<ul>
<li><strong><code>dplyr</code> function reference:</strong> <a href="https://dplyr.tidyverse.org/reference/index.html" class="uri">https://dplyr.tidyverse.org/reference/index.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong><code>dplyr</code> documentation:</strong> <a href="https://dplyr.tidyverse.org/" class="uri">https://dplyr.tidyverse.org/</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Intro to <code>dplyr</code> vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/dplyr.html" class="uri">https://dplyr.tidyverse.org/articles/dplyr.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong><code>dplyr</code> vs base R vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/base.html" class="uri">https://dplyr.tidyverse.org/articles/base.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Programming with <code>dplyr</code> vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/programming.html" class="uri">https://dplyr.tidyverse.org/articles/programming.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Column-wise operations vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/colwise.html" class="uri">https://dplyr.tidyverse.org/articles/colwise.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Row-wise operations vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/rowwise.html" class="uri">https://dplyr.tidyverse.org/articles/rowwise.html</a></li>
</ul>
<div class="small-break">

</div>
<ul>
<li><strong>Window functions vignette:</strong> <a href="https://dplyr.tidyverse.org/articles/window-functions.html" class="uri">https://dplyr.tidyverse.org/articles/window-functions.html</a></li>
</ul>
<p><br></p>
<ul>
<li><strong>aRtsy package for creating art using R:</strong> <a href="https://cran.r-project.org/web/packages/aRtsy/readme/README.html" class="uri">https://cran.r-project.org/web/packages/aRtsy/readme/README.html</a></li>
</ul>

<img src="images/id529-sticker.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://id529.github.io/" class="uri">https://id529.github.io/</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="intro-to-dplyr_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="intro-to-dplyr_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="intro-to-dplyr_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>